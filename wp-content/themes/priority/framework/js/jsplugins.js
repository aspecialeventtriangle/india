var isMobile = (navigator.userAgent.match(/iPhone/i)) || (navigator.userAgent.match(/iPod/i)) || (navigator.userAgent.match(/iPad/i)) || (navigator.userAgent.match(/Android/i)) || (navigator.userAgent.match(/Blackberry/i)) || (navigator.userAgent.match(/Windows Phone/i)) ? true : false;
var currentWidth = window.innerWidth || document.documentElement.clientWidth;

var $isOnePage = mytheme_urls.isOnePage;

var $preloader = mytheme_urls.preloader;
if($preloader == 'enable') {

	/*! pace 0.5.6 */
	(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W=[].slice,X={}.hasOwnProperty,Y=function(a,b){function c(){this.constructor=a}for(var d in b)X.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},Z=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};for(t={catchupTime:500,initialRate:.03,minTime:500,ghostTime:500,maxProgressPerFrame:10,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},B=function(){var a;return null!=(a="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?a:+new Date},D=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,s=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==D&&(D=function(a){return setTimeout(a,50)},s=function(a){return clearTimeout(a)}),F=function(a){var b,c;return b=B(),(c=function(){var d;return d=B()-b,d>=33?(b=B(),a(d,function(){return D(c)})):setTimeout(c,33-d)})()},E=function(){var a,b,c;return c=arguments[0],b=arguments[1],a=3<=arguments.length?W.call(arguments,2):[],"function"==typeof c[b]?c[b].apply(c,a):c[b]},u=function(){var a,b,c,d,e,f,g;for(b=arguments[0],d=2<=arguments.length?W.call(arguments,1):[],f=0,g=d.length;g>f;f++)if(c=d[f])for(a in c)X.call(c,a)&&(e=c[a],null!=b[a]&&"object"==typeof b[a]&&null!=e&&"object"==typeof e?u(b[a],e):b[a]=e);return b},p=function(a){var b,c,d,e,f;for(c=b=0,e=0,f=a.length;f>e;e++)d=a[e],c+=Math.abs(d),b++;return c/b},w=function(a,b){var c,d,e;if(null==a&&(a="options"),null==b&&(b=!0),e=document.querySelector("[data-pace-"+a+"]")){if(c=e.getAttribute("data-pace-"+a),!b)return c;try{return JSON.parse(c)}catch(f){return d=f,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",d):void 0}}},g=function(){function a(){}return a.prototype.on=function(a,b,c,d){var e;return null==d&&(d=!1),null==this.bindings&&(this.bindings={}),null==(e=this.bindings)[a]&&(e[a]=[]),this.bindings[a].push({handler:b,ctx:c,once:d})},a.prototype.once=function(a,b,c){return this.on(a,b,c,!0)},a.prototype.off=function(a,b){var c,d,e;if(null!=(null!=(d=this.bindings)?d[a]:void 0)){if(null==b)return delete this.bindings[a];for(c=0,e=[];c<this.bindings[a].length;)e.push(this.bindings[a][c].handler===b?this.bindings[a].splice(c,1):c++);return e}},a.prototype.trigger=function(){var a,b,c,d,e,f,g,h,i;if(c=arguments[0],a=2<=arguments.length?W.call(arguments,1):[],null!=(g=this.bindings)?g[c]:void 0){for(e=0,i=[];e<this.bindings[c].length;)h=this.bindings[c][e],d=h.handler,b=h.ctx,f=h.once,d.apply(null!=b?b:this,a),i.push(f?this.bindings[c].splice(e,1):e++);return i}},a}(),null==window.Pace&&(window.Pace={}),u(Pace,g.prototype),C=Pace.options=u({},t,window.paceOptions,w()),T=["ajax","document","eventLag","elements"],P=0,R=T.length;R>P;P++)J=T[P],C[J]===!0&&(C[J]=t[J]);i=function(a){function b(){return U=b.__super__.constructor.apply(this,arguments)}return Y(b,a),b}(Error),b=function(){function a(){this.progress=0}return a.prototype.getElement=function(){var a;if(null==this.el){if(a=document.querySelector(C.target),!a)throw new i;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=a.firstChild?a.insertBefore(this.el,a.firstChild):a.appendChild(this.el)}return this.el},a.prototype.finish=function(){var a;return a=this.getElement(),a.className=a.className.replace("pace-active",""),a.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},a.prototype.update=function(a){return this.progress=a,this.render()},a.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(a){i=a}return this.el=void 0},a.prototype.render=function(){var a,b;return null==document.querySelector(C.target)?!1:(a=this.getElement(),a.children[0].style.width=""+this.progress+"%",(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(a.children[0].setAttribute("data-progress-text",""+(0|this.progress)+"%"),this.progress>=100?b="99":(b=this.progress<10?"0":"",b+=0|this.progress),a.children[0].setAttribute("data-progress",""+b)),this.lastRenderedProgress=this.progress)},a.prototype.done=function(){return this.progress>=100},a}(),h=function(){function a(){this.bindings={}}return a.prototype.trigger=function(a,b){var c,d,e,f,g;if(null!=this.bindings[a]){for(f=this.bindings[a],g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(c.call(this,b));return g}},a.prototype.on=function(a,b){var c;return null==(c=this.bindings)[a]&&(c[a]=[]),this.bindings[a].push(b)},a}(),O=window.XMLHttpRequest,N=window.XDomainRequest,M=window.WebSocket,v=function(a,b){var c,d,e,f;f=[];for(d in b.prototype)try{e=b.prototype[d],f.push(null==a[d]&&"function"!=typeof e?a[d]=e:void 0)}catch(g){c=g}return f},z=[],Pace.ignore=function(){var a,b,c;return b=arguments[0],a=2<=arguments.length?W.call(arguments,1):[],z.unshift("ignore"),c=b.apply(null,a),z.shift(),c},Pace.track=function(){var a,b,c;return b=arguments[0],a=2<=arguments.length?W.call(arguments,1):[],z.unshift("track"),c=b.apply(null,a),z.shift(),c},I=function(a){var b;if(null==a&&(a="GET"),"track"===z[0])return"force";if(!z.length&&C.ajax){if("socket"===a&&C.ajax.trackWebSockets)return!0;if(b=a.toUpperCase(),Z.call(C.ajax.trackMethods,b)>=0)return!0}return!1},j=function(a){function b(){var a,c=this;b.__super__.constructor.apply(this,arguments),a=function(a){var b;return b=a.open,a.open=function(d,e){return I(d)&&c.trigger("request",{type:d,url:e,request:a}),b.apply(a,arguments)}},window.XMLHttpRequest=function(b){var c;return c=new O(b),a(c),c};try{v(window.XMLHttpRequest,O)}catch(d){}if(null!=N){window.XDomainRequest=function(){var b;return b=new N,a(b),b};try{v(window.XDomainRequest,N)}catch(d){}}if(null!=M&&C.ajax.trackWebSockets){window.WebSocket=function(a,b){var d;return d=null!=b?new M(a,b):new M(a),I("socket")&&c.trigger("request",{type:"socket",url:a,protocols:b,request:d}),d};try{v(window.WebSocket,M)}catch(d){}}}return Y(b,a),b}(h),Q=null,x=function(){return null==Q&&(Q=new j),Q},H=function(a){var b,c,d,e;for(e=C.ajax.ignoreURLs,c=0,d=e.length;d>c;c++)if(b=e[c],"string"==typeof b){if(-1!==a.indexOf(b))return!0}else if(b.test(a))return!0;return!1},x().on("request",function(b){var c,d,e,f,g;return f=b.type,e=b.request,g=b.url,H(g)?void 0:Pace.running||C.restartOnRequestAfter===!1&&"force"!==I(f)?void 0:(d=arguments,c=C.restartOnRequestAfter||0,"boolean"==typeof c&&(c=0),setTimeout(function(){var b,c,g,h,i,j;if(b="socket"===f?e.readyState<2:0<(h=e.readyState)&&4>h){for(Pace.restart(),i=Pace.sources,j=[],c=0,g=i.length;g>c;c++){if(J=i[c],J instanceof a){J.watch.apply(J,d);break}j.push(void 0)}return j}},c))}),a=function(){function a(){var a=this;this.elements=[],x().on("request",function(){return a.watch.apply(a,arguments)})}return a.prototype.watch=function(a){var b,c,d,e;return d=a.type,b=a.request,e=a.url,H(e)?void 0:(c="socket"===d?new m(b):new n(b),this.elements.push(c))},a}(),n=function(){function a(a){var b,c,d,e,f,g,h=this;if(this.progress=0,null!=window.ProgressEvent)for(c=null,a.addEventListener("progress",function(a){return h.progress=a.lengthComputable?100*a.loaded/a.total:h.progress+(100-h.progress)/2}),g=["load","abort","timeout","error"],d=0,e=g.length;e>d;d++)b=g[d],a.addEventListener(b,function(){return h.progress=100});else f=a.onreadystatechange,a.onreadystatechange=function(){var b;return 0===(b=a.readyState)||4===b?h.progress=100:3===a.readyState&&(h.progress=50),"function"==typeof f?f.apply(null,arguments):void 0}}return a}(),m=function(){function a(a){var b,c,d,e,f=this;for(this.progress=0,e=["error","open"],c=0,d=e.length;d>c;c++)b=e[c],a.addEventListener(b,function(){return f.progress=100})}return a}(),d=function(){function a(a){var b,c,d,f;for(null==a&&(a={}),this.elements=[],null==a.selectors&&(a.selectors=[]),f=a.selectors,c=0,d=f.length;d>c;c++)b=f[c],this.elements.push(new e(b))}return a}(),e=function(){function a(a){this.selector=a,this.progress=0,this.check()}return a.prototype.check=function(){var a=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return a.check()},C.elements.checkInterval)},a.prototype.done=function(){return this.progress=100},a}(),c=function(){function a(){var a,b,c=this;this.progress=null!=(b=this.states[document.readyState])?b:100,a=document.onreadystatechange,document.onreadystatechange=function(){return null!=c.states[document.readyState]&&(c.progress=c.states[document.readyState]),"function"==typeof a?a.apply(null,arguments):void 0}}return a.prototype.states={loading:0,interactive:50,complete:100},a}(),f=function(){function a(){var a,b,c,d,e,f=this;this.progress=0,a=0,e=[],d=0,c=B(),b=setInterval(function(){var g;return g=B()-c-50,c=B(),e.push(g),e.length>C.eventLag.sampleCount&&e.shift(),a=p(e),++d>=C.eventLag.minSamples&&a<C.eventLag.lagThreshold?(f.progress=100,clearInterval(b)):f.progress=100*(3/(a+3))},50)}return a}(),l=function(){function a(a){this.source=a,this.last=this.sinceLastUpdate=0,this.rate=C.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=E(this.source,"progress"))}return a.prototype.tick=function(a,b){var c;return null==b&&(b=E(this.source,"progress")),b>=100&&(this.done=!0),b===this.last?this.sinceLastUpdate+=a:(this.sinceLastUpdate&&(this.rate=(b-this.last)/this.sinceLastUpdate),this.catchup=(b-this.progress)/C.catchupTime,this.sinceLastUpdate=0,this.last=b),b>this.progress&&(this.progress+=this.catchup*a),c=1-Math.pow(this.progress/100,C.easeFactor),this.progress+=c*this.rate*a,this.progress=Math.min(this.lastProgress+C.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},a}(),K=null,G=null,q=null,L=null,o=null,r=null,Pace.running=!1,y=function(){return C.restartOnPushState?Pace.restart():void 0},null!=window.history.pushState&&(S=window.history.pushState,window.history.pushState=function(){return y(),S.apply(window.history,arguments)}),null!=window.history.replaceState&&(V=window.history.replaceState,window.history.replaceState=function(){return y(),V.apply(window.history,arguments)}),k={ajax:a,elements:d,document:c,eventLag:f},(A=function(){var a,c,d,e,f,g,h,i;for(Pace.sources=K=[],g=["ajax","elements","document","eventLag"],c=0,e=g.length;e>c;c++)a=g[c],C[a]!==!1&&K.push(new k[a](C[a]));for(i=null!=(h=C.extraSources)?h:[],d=0,f=i.length;f>d;d++)J=i[d],K.push(new J(C));return Pace.bar=q=new b,G=[],L=new l})(),Pace.stop=function(){return Pace.trigger("stop"),Pace.running=!1,q.destroy(),r=!0,null!=o&&("function"==typeof s&&s(o),o=null),A()},Pace.restart=function(){return Pace.trigger("restart"),Pace.stop(),Pace.start()},Pace.go=function(){var a;return Pace.running=!0,q.render(),a=B(),r=!1,o=F(function(b,c){var d,e,f,g,h,i,j,k,m,n,o,p,s,t,u,v;for(k=100-q.progress,e=o=0,f=!0,i=p=0,t=K.length;t>p;i=++p)for(J=K[i],n=null!=G[i]?G[i]:G[i]=[],h=null!=(v=J.elements)?v:[J],j=s=0,u=h.length;u>s;j=++s)g=h[j],m=null!=n[j]?n[j]:n[j]=new l(g),f&=m.done,m.done||(e++,o+=m.tick(b));return d=o/e,q.update(L.tick(b,d)),q.done()||f||r?(q.update(100),Pace.trigger("done"),setTimeout(function(){return q.finish(),Pace.running=!1,Pace.trigger("hide")},Math.max(C.ghostTime,Math.max(C.minTime-(B()-a),0)))):c()})},Pace.start=function(a){u(C,a),Pace.running=!0;try{q.render()}catch(b){i=b}return document.querySelector(".pace")?(Pace.trigger("start"),Pace.go()):setTimeout(Pace.start,50)},"function"==typeof define&&define.amd?define(function(){return Pace}):"object"==typeof exports?module.exports=Pace:C.startOnPageLoad&&Pace.start()}).call(this);

}

//Retina
jQuery.noConflict();
(function(){function n(){}function i(e){return t.retinaImageSuffix+e}function s(e,t){this.path=e||"";if(typeof t!=="undefined"&&t!==null){this.at_2x_path=t;this.perform_check=false}else{if(undefined!==document.createElement){var n=document.createElement("a");n.href=this.path;n.pathname=n.pathname.replace(r,i);this.at_2x_path=n.href}else{var s=this.path.split("?");s[0]=s[0].replace(r,i);this.at_2x_path=s.join("?")}this.perform_check=true}}function o(e){this.el=e;this.path=new s(this.el.getAttribute("src"),this.el.getAttribute("data-at2x"));var t=this;this.path.check_2x_variant(function(e){if(e){t.swap()}})}var e=typeof exports==="undefined"?window:exports;var t={retinaImageSuffix:"@2x",check_mime_type:true,force_original_dimensions:true};e.Retina=n;n.configure=function(e){if(e===null){e={}}for(var n in e){if(e.hasOwnProperty(n)){t[n]=e[n]}}};n.init=function(t){if(t===null){t=e}var n=t.onload||function(){};t.onload=function(){var e=document.getElementsByTagName("img"),t=[],r,i;for(r=0;r<e.length;r+=1){i=e[r];if(!!!i.getAttributeNode("data-no-retina")){t.push(new o(i))}}n()}};n.isRetina=function(){var t="(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)";if(e.devicePixelRatio>1){return true}if(e.matchMedia&&e.matchMedia(t).matches){return true}return false};var r=/\.\w+$/;e.RetinaImagePath=s;s.confirmed_paths=[];s.prototype.is_external=function(){return!!(this.path.match(/^https?\:/i)&&!this.path.match("//"+document.domain))};s.prototype.check_2x_variant=function(e){var n,r=this;if(this.is_external()){return e(false)}else if(!this.perform_check&&typeof this.at_2x_path!=="undefined"&&this.at_2x_path!==null){return e(true)}else if(this.at_2x_path in s.confirmed_paths){return e(true)}else{n=new XMLHttpRequest;n.open("HEAD",this.at_2x_path);n.onreadystatechange=function(){if(n.readyState!==4){return e(false)}if(n.status>=200&&n.status<=399){if(t.check_mime_type){var i=n.getResponseHeader("Content-Type");if(i===null||!i.match(/^image/i)){return e(false)}}s.confirmed_paths.push(r.at_2x_path);return e(true)}else{return e(false)}};n.send()}};e.RetinaImage=o;o.prototype.swap=function(e){function r(){if(!n.el.complete){setTimeout(r,5)}else{if(t.force_original_dimensions){n.el.setAttribute("width",n.el.offsetWidth);n.el.setAttribute("height",n.el.offsetHeight)}n.el.setAttribute("src",e)}}if(typeof e==="undefined"){e=this.path.at_2x_path}var n=this;r()};if(n.isRetina()){n.init(e)}})()

//Easing
jQuery.noConflict();
jQuery.easing["jswing"]=jQuery.easing["swing"];jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,r,i){return jQuery.easing[jQuery.easing.def](e,t,n,r,i)},easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInOutQuad:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t+n;return-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,i){return r*(t/=i)*t*t+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t+n;return r/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,r,i){return r*(t/=i)*t*t*t+n},easeOutQuart:function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t*t+n;return-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,i){return r*(t/=i)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,i){return r*((t=t/i-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t*t*t+n;return r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+n},easeInExpo:function(e,t,n,r,i){return t==0?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeInOutExpo:function(e,t,n,r,i){if(t==0)return n;if(t==i)return n+r;if((t/=i/2)<1)return r/2*Math.pow(2,10*(t-1))+n;return r/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+n},easeOutCirc:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n},easeInOutCirc:function(e,t,n,r,i){if((t/=i/2)<1)return-r/2*(Math.sqrt(1-t*t)-1)+n;return r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i)==1)return n+r;if(!o)o=i*.3;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return-(u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o))+n},easeOutElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i)==1)return n+r;if(!o)o=i*.3;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return u*Math.pow(2,-10*t)*Math.sin((t*i-s)*2*Math.PI/o)+r+n},easeInOutElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i/2)==2)return n+r;if(!o)o=i*.3*1.5;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);if(t<1)return-.5*u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)+n;return u*Math.pow(2,-10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)*.5+r+n},easeInBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;return r*(t/=i)*t*((s+1)*t-s)+n},easeOutBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;return r*((t=t/i-1)*t*((s+1)*t+s)+1)+n},easeInOutBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;if((t/=i/2)<1)return r/2*t*t*(((s*=1.525)+1)*t-s)+n;return r/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+n},easeInBounce:function(e,t,n,r,i){return r-jQuery.easing.easeOutBounce(e,i-t,0,r,i)+n},easeOutBounce:function(e,t,n,r,i){if((t/=i)<1/2.75){return r*7.5625*t*t+n}else if(t<2/2.75){return r*(7.5625*(t-=1.5/2.75)*t+.75)+n}else if(t<2.5/2.75){return r*(7.5625*(t-=2.25/2.75)*t+.9375)+n}else{return r*(7.5625*(t-=2.625/2.75)*t+.984375)+n}},easeInOutBounce:function(e,t,n,r,i){if(t<i/2)return jQuery.easing.easeInBounce(e,t*2,0,r,i)*.5+n;return jQuery.easing.easeOutBounce(e,t*2-i,0,r,i)*.5+r*.5+n}})

//To Top
jQuery.noConflict();
(function($){$.fn.UItoTop=function(options){var defaults={text:'To Top',min:200,inDelay:600,outDelay:400,containerID:'toTop',containerHoverID:'toTopHover',containerHoverClass:'toTopClass',scrollSpeed:1200,easingType:'linear'},settings=$.extend(defaults,options),containerIDhash='#'+settings.containerID,containerHoverIDHash='#'+settings.containerHoverID;$('body').append('<a href="#" id="'+settings.containerID+'">'+settings.text+'</a>');$(containerIDhash).hide().on('click.UItoTop',function(){$('html, body').animate({scrollTop:0},settings.scrollSpeed,settings.easingType);$('#'+settings.containerHoverID,this).stop().animate({'opacity':0},settings.inDelay,settings.easingType);return false;}).prepend('<span id="'+settings.containerHoverID+'" class="'+settings.containerHoverClass+'"></span>').hover(function(){$(containerHoverIDHash,this).stop().animate({'opacity':1},600,'linear');},function(){$(containerHoverIDHash,this).stop().animate({'opacity':0},700,'linear');});$(window).scroll(function(){var sd=$(window).scrollTop();if(typeof document.body.style.maxHeight==="undefined"){$(containerIDhash).css({'position':'absolute','top':sd+$(window).height()-50});}
if(sd>settings.min)
$(containerIDhash).fadeIn(settings.inDelay);else
$(containerIDhash).fadeOut(settings.Outdelay);});};})(jQuery);

//Smartresize
jQuery.noConflict();
(function(e){var t=e.event,n;t.special.smartresize={setup:function(){e(this).bind("resize",t.special.smartresize.handler)},teardown:function(){e(this).unbind("resize",t.special.smartresize.handler)},handler:function(e,t){var r=this,i=arguments;e.type="smartresize";n&&clearTimeout(n);n=setTimeout(function(){jQuery.event.handle.apply(r,i)},"execAsap"===t?0:100)}};e.fn.smartresize=function(e){return e?this.bind("smartresize",e):this.trigger("smartresize",["execAsap"])}})(jQuery)

// Box Slider
jQuery.noConflict();
(function(e){var t={},n={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){}};e.fn.bxSlider=function(s){if(0==this.length)return this;if(this.length>1)return this.each(function(){e(this).bxSlider(s)}),this;var o={},r=this;t.el=this;var a=e(window).width(),l=e(window).height(),d=function(){o.settings=e.extend({},n,s),o.settings.slideWidth=parseInt(o.settings.slideWidth),o.children=r.children(o.settings.slideSelector),o.children.length<o.settings.minSlides&&(o.settings.minSlides=o.children.length),o.children.length<o.settings.maxSlides&&(o.settings.maxSlides=o.children.length),o.settings.randomStart&&(o.settings.startSlide=Math.floor(Math.random()*o.children.length)),o.active={index:o.settings.startSlide},o.carousel=o.settings.minSlides>1||o.settings.maxSlides>1,o.carousel&&(o.settings.preloadImages="all"),o.minThreshold=o.settings.minSlides*o.settings.slideWidth+(o.settings.minSlides-1)*o.settings.slideMargin,o.maxThreshold=o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin,o.working=!1,o.controls={},o.interval=null,o.animProp="vertical"==o.settings.mode?"top":"left",o.usingCSS=o.settings.useCSS&&"fade"!=o.settings.mode&&function(){var e=document.createElement("div"),t=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in t)if(void 0!==e.style[t[i]])return o.cssPrefix=t[i].replace("Perspective","").toLowerCase(),o.animProp="-"+o.cssPrefix+"-transform",!0;return!1}(),"vertical"==o.settings.mode&&(o.settings.maxSlides=o.settings.minSlides),c()},c=function(){if(r.wrap('<div class="bx-wrapper"><div class="bx-viewport"></div></div>'),o.viewport=r.parent(),o.loader=e('<div class="bx-loading" />'),o.viewport.prepend(o.loader),r.css({width:"horizontal"==o.settings.mode?215*o.children.length+"%":"auto",position:"relative"}),o.usingCSS&&o.settings.easing?r.css("-"+o.cssPrefix+"-transition-timing-function",o.settings.easing):o.settings.easing||(o.settings.easing="swing"),v(),o.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),o.viewport.parent().css({maxWidth:u()}),o.children.css({"float":"horizontal"==o.settings.mode?"left":"none",listStyle:"none",position:"relative"}),o.children.width(p()),"horizontal"==o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginRight",o.settings.slideMargin),"vertical"==o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginBottom",o.settings.slideMargin),"fade"==o.settings.mode&&(o.children.css({position:"absolute",zIndex:0,display:"none"}),o.children.eq(o.settings.startSlide).css({zIndex:50,display:"block"})),o.controls.el=e('<div class="bx-controls" />'),o.settings.captions&&E(),o.settings.infiniteLoop&&"fade"!=o.settings.mode&&!o.settings.ticker){var t="vertical"==o.settings.mode?o.settings.minSlides:o.settings.maxSlides,i=o.children.slice(0,t).clone().addClass("bx-clone"),n=o.children.slice(-t).clone().addClass("bx-clone");r.append(i).prepend(n)}o.active.last=o.settings.startSlide==f()-1,o.settings.video&&r.fitVids();var s=o.children.eq(o.settings.startSlide);"all"==o.settings.preloadImages&&(s=r.children()),o.settings.ticker?o.settings.pager=!1:(o.settings.pager&&w(),o.settings.controls&&T(),o.settings.auto&&o.settings.autoControls&&C(),(o.settings.controls||o.settings.autoControls||o.settings.pager)&&o.viewport.after(o.controls.el)),s.imagesLoaded(g)},g=function(){o.loader.remove(),m(),"vertical"==o.settings.mode&&(o.settings.adaptiveHeight=!0),o.viewport.height(h()),r.redrawSlider(),o.settings.onSliderLoad(o.active.index),o.initialized=!0,e(window).bind("resize",Y),o.settings.auto&&o.settings.autoStart&&L(),o.settings.ticker&&W(),o.settings.pager&&M(o.settings.startSlide),o.settings.controls&&D(),o.settings.touchEnabled&&!o.settings.ticker&&O()},h=function(){var t=0,n=e();if("vertical"==o.settings.mode||o.settings.adaptiveHeight)if(o.carousel){var s=1==o.settings.moveSlides?o.active.index:o.active.index*x();for(n=o.children.eq(s),i=1;o.settings.maxSlides-1>=i;i++)n=s+i>=o.children.length?n.add(o.children.eq(i-1)):n.add(o.children.eq(s+i))}else n=o.children.eq(o.active.index);else n=o.children;return"vertical"==o.settings.mode?(n.each(function(){t+=e(this).outerHeight()}),o.settings.slideMargin>0&&(t+=o.settings.slideMargin*(o.settings.minSlides-1))):t=Math.max.apply(Math,n.map(function(){return e(this).outerHeight(!1)}).get()),t},u=function(){var e="100%";return o.settings.slideWidth>0&&(e="horizontal"==o.settings.mode?o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin:o.settings.slideWidth),e},p=function(){var e=o.settings.slideWidth,t=o.viewport.width();return 0==o.settings.slideWidth||o.settings.slideWidth>t&&!o.carousel||"vertical"==o.settings.mode?e=t:o.settings.maxSlides>1&&"horizontal"==o.settings.mode&&(t>o.maxThreshold||o.minThreshold>t&&(e=(t-o.settings.slideMargin*(o.settings.minSlides-1))/o.settings.minSlides)),e},v=function(){var e=1;if("horizontal"==o.settings.mode&&o.settings.slideWidth>0)if(o.viewport.width()<o.minThreshold)e=o.settings.minSlides;else if(o.viewport.width()>o.maxThreshold)e=o.settings.maxSlides;else{var t=o.children.first().width();e=Math.floor(o.viewport.width()/t)}else"vertical"==o.settings.mode&&(e=o.settings.minSlides);return e},f=function(){var e=0;if(o.settings.moveSlides>0)if(o.settings.infiniteLoop)e=o.children.length/x();else for(var t=0,i=0;o.children.length>t;)++e,t=i+v(),i+=o.settings.moveSlides<=v()?o.settings.moveSlides:v();else e=Math.ceil(o.children.length/v());return e},x=function(){return o.settings.moveSlides>0&&o.settings.moveSlides<=v()?o.settings.moveSlides:v()},m=function(){if(o.children.length>o.settings.maxSlides&&o.active.last&&!o.settings.infiniteLoop){if("horizontal"==o.settings.mode){var e=o.children.last(),t=e.position();S(-(t.left-(o.viewport.width()-e.width())),"reset",0)}else if("vertical"==o.settings.mode){var i=o.children.length-o.settings.minSlides,t=o.children.eq(i).position();S(-t.top,"reset",0)}}else{var t=o.children.eq(o.active.index*x()).position();o.active.index==f()-1&&(o.active.last=!0),void 0!=t&&("horizontal"==o.settings.mode?S(-t.left,"reset",0):"vertical"==o.settings.mode&&S(-t.top,"reset",0))}},S=function(e,t,i,n){if(o.usingCSS){var s="vertical"==o.settings.mode?"translate3d(0, "+e+"px, 0)":"translate3d("+e+"px, 0, 0)";r.css("-"+o.cssPrefix+"-transition-duration",i/1e3+"s"),"slide"==t?(r.css(o.animProp,s),r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),I()})):"reset"==t?r.css(o.animProp,s):"ticker"==t&&(r.css("-"+o.cssPrefix+"-transition-timing-function","linear"),r.css(o.animProp,s),r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),S(n.resetValue,"reset",0),H()}))}else{var a={};a[o.animProp]=e,"slide"==t?r.animate(a,i,o.settings.easing,function(){I()}):"reset"==t?r.css(o.animProp,e):"ticker"==t&&r.animate(a,speed,"linear",function(){S(n.resetValue,"reset",0),H()})}},b=function(){for(var t="",i=f(),n=0;i>n;n++){var s="";o.settings.buildPager&&e.isFunction(o.settings.buildPager)?(s=o.settings.buildPager(n),o.pagerEl.addClass("bx-custom-pager")):(s=n+1,o.pagerEl.addClass("bx-default-pager")),t+='<div class="bx-pager-item"><a href="" data-slide-index="'+n+'" class="bx-pager-link">'+s+"</a></div>"}o.pagerEl.html(t)},w=function(){o.settings.pagerCustom?o.pagerEl=e(o.settings.pagerCustom):(o.pagerEl=e('<div class="bx-pager" />'),o.settings.pagerSelector?e(o.settings.pagerSelector).html(o.pagerEl):o.controls.el.addClass("bx-has-pager").append(o.pagerEl),b()),o.pagerEl.delegate("a","click",z)},T=function(){o.controls.next=e('<a class="bx-next" href="">'+o.settings.nextText+"</a>"),o.controls.prev=e('<a class="bx-prev" href="">'+o.settings.prevText+"</a>"),o.controls.next.bind("click",A),o.controls.prev.bind("click",P),o.settings.nextSelector&&e(o.settings.nextSelector).append(o.controls.next),o.settings.prevSelector&&e(o.settings.prevSelector).append(o.controls.prev),o.settings.nextSelector||o.settings.prevSelector||(o.controls.directionEl=e('<div class="bx-controls-direction" />'),o.controls.directionEl.append(o.controls.prev).append(o.controls.next),o.controls.el.addClass("bx-has-controls-direction").append(o.controls.directionEl))},C=function(){o.controls.start=e('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+o.settings.startText+"</a></div>"),o.controls.stop=e('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+o.settings.stopText+"</a></div>"),o.controls.autoEl=e('<div class="bx-controls-auto" />'),o.controls.autoEl.delegate(".bx-start","click",k),o.controls.autoEl.delegate(".bx-stop","click",y),o.settings.autoControlsCombine?o.controls.autoEl.append(o.controls.start):o.controls.autoEl.append(o.controls.start).append(o.controls.stop),o.settings.autoControlsSelector?e(o.settings.autoControlsSelector).html(o.controls.autoEl):o.controls.el.addClass("bx-has-controls-auto").append(o.controls.autoEl),q(o.settings.autoStart?"stop":"start")},E=function(){o.children.each(function(){var t=e(this).find("img:first").attr("title");void 0!=t&&e(this).append('<div class="bx-caption"><span>'+t+"</span></div>")})},A=function(e){o.settings.auto&&r.stopAuto(),r.goToNextSlide(),e.preventDefault()},P=function(e){o.settings.auto&&r.stopAuto(),r.goToPrevSlide(),e.preventDefault()},k=function(e){r.startAuto(),e.preventDefault()},y=function(e){r.stopAuto(),e.preventDefault()},z=function(t){o.settings.auto&&r.stopAuto();var i=e(t.currentTarget),n=parseInt(i.attr("data-slide-index"));n!=o.active.index&&r.goToSlide(n),t.preventDefault()},M=function(t){return"short"==o.settings.pagerType?(o.pagerEl.html(t+1+o.settings.pagerShortSeparator+o.children.length),void 0):(o.pagerEl.find("a").removeClass("active"),o.pagerEl.each(function(i,n){e(n).find("a").eq(t).addClass("active")}),void 0)},I=function(){if(o.settings.infiniteLoop){var e="";0==o.active.index?e=o.children.eq(0).position():o.active.index==f()-1&&o.carousel?e=o.children.eq((f()-1)*x()).position():o.active.index==o.children.length-1&&(e=o.children.eq(o.children.length-1).position()),"horizontal"==o.settings.mode?S(-e.left,"reset",0):"vertical"==o.settings.mode&&S(-e.top,"reset",0)}o.working=!1,o.settings.onSlideAfter(o.children.eq(o.active.index),o.oldIndex,o.active.index)},q=function(e){o.settings.autoControlsCombine?o.controls.autoEl.html(o.controls[e]):(o.controls.autoEl.find("a").removeClass("active"),o.controls.autoEl.find("a:not(.bx-"+e+")").addClass("active"))},D=function(){1==f()?(o.controls.prev.addClass("disabled"),o.controls.next.addClass("disabled")):!o.settings.infiniteLoop&&o.settings.hideControlOnEnd&&(0==o.active.index?(o.controls.prev.addClass("disabled"),o.controls.next.removeClass("disabled")):o.active.index==f()-1?(o.controls.next.addClass("disabled"),o.controls.prev.removeClass("disabled")):(o.controls.prev.removeClass("disabled"),o.controls.next.removeClass("disabled")))},L=function(){o.settings.autoDelay>0?setTimeout(r.startAuto,o.settings.autoDelay):r.startAuto(),o.settings.autoHover&&r.hover(function(){o.interval&&(r.stopAuto(!0),o.autoPaused=!0)},function(){o.autoPaused&&(r.startAuto(!0),o.autoPaused=null)})},W=function(){var t=0;if("next"==o.settings.autoDirection)r.append(o.children.clone().addClass("bx-clone"));else{r.prepend(o.children.clone().addClass("bx-clone"));var i=o.children.first().position();t="horizontal"==o.settings.mode?-i.left:-i.top}S(t,"reset",0),o.settings.pager=!1,o.settings.controls=!1,o.settings.autoControls=!1,o.settings.tickerHover&&!o.usingCSS&&o.viewport.hover(function(){r.stop()},function(){var t=0;o.children.each(function(){t+="horizontal"==o.settings.mode?e(this).outerWidth(!0):e(this).outerHeight(!0)});var i=o.settings.speed/t,n="horizontal"==o.settings.mode?"left":"top",s=i*(t-Math.abs(parseInt(r.css(n))));H(s)}),H()},H=function(e){speed=e?e:o.settings.speed;var t={left:0,top:0},i={left:0,top:0};"next"==o.settings.autoDirection?t=r.find(".bx-clone").first().position():i=o.children.first().position();var n="horizontal"==o.settings.mode?-t.left:-t.top,s="horizontal"==o.settings.mode?-i.left:-i.top,a={resetValue:s};S(n,"ticker",speed,a)},O=function(){o.touch={start:{x:0,y:0},end:{x:0,y:0}},o.viewport.bind("touchstart",N)},N=function(e){if(o.working)e.preventDefault();else{o.touch.originalPos=r.position();var t=e.originalEvent;o.touch.start.x=t.changedTouches[0].pageX,o.touch.start.y=t.changedTouches[0].pageY,o.viewport.bind("touchmove",B),o.viewport.bind("touchend",X)}},B=function(e){var t=e.originalEvent,i=Math.abs(t.changedTouches[0].pageX-o.touch.start.x),n=Math.abs(t.changedTouches[0].pageY-o.touch.start.y);if(3*i>n&&o.settings.preventDefaultSwipeX?e.preventDefault():3*n>i&&o.settings.preventDefaultSwipeY&&e.preventDefault(),"fade"!=o.settings.mode&&o.settings.oneToOneTouch){var s=0;if("horizontal"==o.settings.mode){var r=t.changedTouches[0].pageX-o.touch.start.x;s=o.touch.originalPos.left+r}else{var r=t.changedTouches[0].pageY-o.touch.start.y;s=o.touch.originalPos.top+r}S(s,"reset",0)}},X=function(e){o.viewport.unbind("touchmove",B);var t=e.originalEvent,i=0;if(o.touch.end.x=t.changedTouches[0].pageX,o.touch.end.y=t.changedTouches[0].pageY,"fade"==o.settings.mode){var n=Math.abs(o.touch.start.x-o.touch.end.x);n>=o.settings.swipeThreshold&&(o.touch.start.x>o.touch.end.x?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto())}else{var n=0;"horizontal"==o.settings.mode?(n=o.touch.end.x-o.touch.start.x,i=o.touch.originalPos.left):(n=o.touch.end.y-o.touch.start.y,i=o.touch.originalPos.top),!o.settings.infiniteLoop&&(0==o.active.index&&n>0||o.active.last&&0>n)?S(i,"reset",200):Math.abs(n)>=o.settings.swipeThreshold?(0>n?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto()):S(i,"reset",200)}o.viewport.unbind("touchend",X)},Y=function(){var t=e(window).width(),i=e(window).height();(a!=t||l!=i)&&(a=t,l=i,r.redrawSlider())};return r.goToSlide=function(t,i){if(!o.working&&o.active.index!=t)if(o.working=!0,o.oldIndex=o.active.index,o.active.index=0>t?f()-1:t>=f()?0:t,o.settings.onSlideBefore(o.children.eq(o.active.index),o.oldIndex,o.active.index),"next"==i?o.settings.onSlideNext(o.children.eq(o.active.index),o.oldIndex,o.active.index):"prev"==i&&o.settings.onSlidePrev(o.children.eq(o.active.index),o.oldIndex,o.active.index),o.active.last=o.active.index>=f()-1,o.settings.pager&&M(o.active.index),o.settings.controls&&D(),"fade"==o.settings.mode)o.settings.adaptiveHeight&&o.viewport.height()!=h()&&o.viewport.animate({height:h()},o.settings.adaptiveHeightSpeed),o.children.filter(":visible").fadeOut(o.settings.speed).css({zIndex:0}),o.children.eq(o.active.index).css("zIndex",51).fadeIn(o.settings.speed,function(){e(this).css("zIndex",50),I()});else{o.settings.adaptiveHeight&&o.viewport.height()!=h()&&o.viewport.animate({height:h()},o.settings.adaptiveHeightSpeed);var n=0,s={left:0,top:0};if(!o.settings.infiniteLoop&&o.carousel&&o.active.last)if("horizontal"==o.settings.mode){var a=o.children.eq(o.children.length-1);s=a.position(),n=o.viewport.width()-a.width()}else{var l=o.children.length-o.settings.minSlides;s=o.children.eq(l).position()}else if(o.carousel&&o.active.last&&"prev"==i){var d=1==o.settings.moveSlides?o.settings.maxSlides-x():(f()-1)*x()-(o.children.length-o.settings.maxSlides),a=r.children(".bx-clone").eq(d);s=a.position()}else if("next"==i&&0==o.active.index)s=r.find("> .bx-clone").eq(o.settings.maxSlides).position(),o.active.last=!1;else if(t>=0){var c=t*x();s=o.children.eq(c).position()}if(s!==void 0){var g="horizontal"==o.settings.mode?-(s.left-n):-s.top;S(g,"slide",o.settings.speed)}}},r.goToNextSlide=function(){if(o.settings.infiniteLoop||!o.active.last){var e=parseInt(o.active.index)+1;r.goToSlide(e,"next")}},r.goToPrevSlide=function(){if(o.settings.infiniteLoop||0!=o.active.index){var e=parseInt(o.active.index)-1;r.goToSlide(e,"prev")}},r.startAuto=function(e){o.interval||(o.interval=setInterval(function(){"next"==o.settings.autoDirection?r.goToNextSlide():r.goToPrevSlide()},o.settings.pause),o.settings.autoControls&&1!=e&&q("stop"))},r.stopAuto=function(e){o.interval&&(clearInterval(o.interval),o.interval=null,o.settings.autoControls&&1!=e&&q("start"))},r.getCurrentSlide=function(){return o.active.index},r.getSlideCount=function(){return o.children.length},r.redrawSlider=function(){o.children.add(r.find(".bx-clone")).width(p()),o.viewport.css("height",h()),o.settings.ticker||m(),o.active.last&&(o.active.index=f()-1),o.active.index>=f()&&(o.active.last=!0),o.settings.pager&&!o.settings.pagerCustom&&(b(),M(o.active.index))},r.destroySlider=function(){o.initialized&&(o.initialized=!1,e(".bx-clone",this).remove(),o.children.removeAttr("style"),this.removeAttr("style").unwrap().unwrap(),o.controls.el&&o.controls.el.remove(),o.controls.next&&o.controls.next.remove(),o.controls.prev&&o.controls.prev.remove(),o.pagerEl&&o.pagerEl.remove(),e(".bx-caption",this).remove(),o.controls.autoEl&&o.controls.autoEl.remove(),clearInterval(o.interval),e(window).unbind("resize",Y))},r.reloadSlider=function(e){void 0!=e&&(s=e),r.destroySlider(),d()},d(),this}})(jQuery),function(e,t){var i="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";e.fn.imagesLoaded=function(n){function s(){var t=e(g),i=e(h);a&&(h.length?a.reject(d,t,i):a.resolve(d)),e.isFunction(n)&&n.call(r,d,t,i)}function o(t,n){t.src===i||-1!==e.inArray(t,c)||(c.push(t),n?h.push(t):g.push(t),e.data(t,"imagesLoaded",{isBroken:n,src:t.src}),l&&a.notifyWith(e(t),[n,d,e(g),e(h)]),d.length===c.length&&(setTimeout(s),d.unbind(".imagesLoaded")))}var r=this,a=e.isFunction(e.Deferred)?e.Deferred():0,l=e.isFunction(a.notify),d=r.find("img").add(r.filter("img")),c=[],g=[],h=[];return e.isPlainObject(n)&&e.each(n,function(e,t){"callback"===e?n=t:a&&a[e](t)}),d.length?d.bind("load.imagesLoaded error.imagesLoaded",function(e){o(e.target,"error"===e.type)}).each(function(n,s){var r=s.src,a=e.data(s,"imagesLoaded");a&&a.src===r?o(s,a.isBroken):s.complete&&s.naturalWidth!==t?o(s,0===s.naturalWidth||0===s.naturalHeight):(s.readyState||s.complete)&&(s.src=i,s.src=r)}):s(),a?a.promise(r):r}}(jQuery);

// Fitvids
jQuery.noConflict();
(function(e){"use strict";e.fn.fitVids=function(t){var n={customSelector:null};var r=document.createElement("div"),i=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0];r.className="fit-vids-style";r.innerHTML="&shy;<style>               .fluid-width-video-wrapper {                 width: 100%;                              position: relative;                       padding: 0;                            }                                                                                   .fluid-width-video-wrapper iframe,        .fluid-width-video-wrapper object,        .fluid-width-video-wrapper embed {           position: absolute;                       top: 0;                                   left: 0;                                  width: 100%;                              height: 100%;                          }                                       </style>";i.parentNode.insertBefore(r,i);if(t){e.extend(n,t)}return this.each(function(){var t=["iframe[src*='player.vimeo.com']","iframe[src*='www.youtube.com']","iframe[src*='www.kickstarter.com']","object","embed"];if(n.customSelector){t.push(n.customSelector)}var r=e(this).find(t.join(","));r.each(function(){var t=e(this);if(this.tagName.toLowerCase()==="embed"&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length){return}var n=this.tagName.toLowerCase()==="object"||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height(),r=!isNaN(parseInt(t.attr("width"),10))?parseInt(t.attr("width"),10):t.width(),i=n/r;if(!t.attr("id")){var s="fitvid"+Math.floor(Math.random()*999999);t.attr("id",s)}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",i*100+"%");t.removeAttr("height").removeAttr("width")})})}})(jQuery)

//Isotope 
if(mytheme_urls.loadisotope) {

	jQuery.noConflict();
	(function(a,b,c){"use strict";var d=a.document,e=a.Modernizr,f=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},g="Moz Webkit O Ms".split(" "),h=function(a){var b=d.documentElement.style,c;if(typeof b[a]=="string")return a;a=f(a);for(var e=0,h=g.length;e<h;e++){c=g[e]+a;if(typeof b[c]=="string")return c}},i=h("transform"),j=h("transitionProperty"),k={csstransforms:function(){return!!i},csstransforms3d:function(){var a=!!h("perspective");if(a){var c=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),d="@media ("+c.join("transform-3d),(")+"modernizr)",e=b("<style>"+d+"{#modernizr{height:3px}}"+"</style>").appendTo("head"),f=b('<div id="modernizr" />').appendTo("html");a=f.height()===3,f.remove(),e.remove()}return a},csstransitions:function(){return!!j}},l;if(e)for(l in k)e.hasOwnProperty(l)||e.addTest(l,k[l]);else{e=a.Modernizr={_version:"1.6ish: miniModernizr for Isotope"};var m=" ",n;for(l in k)n=k[l](),e[l]=n,m+=" "+(n?"":"no-")+l;b("html").addClass(m)}if(e.csstransforms){var o=e.csstransforms3d?{translate:function(a){return"translate3d("+a[0]+"px, "+a[1]+"px, 0) "},scale:function(a){return"scale3d("+a+", "+a+", 1) "}}:{translate:function(a){return"translate("+a[0]+"px, "+a[1]+"px) "},scale:function(a){return"scale("+a+") "}},p=function(a,c,d){var e=b.data(a,"isoTransform")||{},f={},g,h={},j;f[c]=d,b.extend(e,f);for(g in e)j=e[g],h[g]=o[g](j);var k=h.translate||"",l=h.scale||"",m=k+l;b.data(a,"isoTransform",e),a.style[i]=m};b.cssNumber.scale=!0,b.cssHooks.scale={set:function(a,b){p(a,"scale",b)},get:function(a,c){var d=b.data(a,"isoTransform");return d&&d.scale?d.scale:1}},b.fx.step.scale=function(a){b.cssHooks.scale.set(a.elem,a.now+a.unit)},b.cssNumber.translate=!0,b.cssHooks.translate={set:function(a,b){p(a,"translate",b)},get:function(a,c){var d=b.data(a,"isoTransform");return d&&d.translate?d.translate:[0,0]}}}var q,r;e.csstransitions&&(q={WebkitTransitionProperty:"webkitTransitionEnd",MozTransitionProperty:"transitionend",OTransitionProperty:"oTransitionEnd otransitionend",transitionProperty:"transitionend"}[j],r=h("transitionDuration"));var s=b.event,t=b.event.handle?"handle":"dispatch",u;s.special.smartresize={setup:function(){b(this).bind("resize",s.special.smartresize.handler)},teardown:function(){b(this).unbind("resize",s.special.smartresize.handler)},handler:function(a,b){var c=this,d=arguments;a.type="smartresize",u&&clearTimeout(u),u=setTimeout(function(){s[t].apply(c,d)},b==="execAsap"?0:100)}},b.fn.smartresize=function(a){return a?this.bind("smartresize",a):this.trigger("smartresize",["execAsap"])},b.Isotope=function(a,c,d){this.element=b(c),this._create(a),this._init(d)};var v=["width","height"],w=b(a);b.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:{opacity:0,scale:.001},visibleStyle:{opacity:1,scale:1},containerStyle:{position:"relative",overflow:"hidden"},animationEngine:"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!0,itemPositionDataEnabled:!1},b.Isotope.prototype={_create:function(a){this.options=b.extend({},b.Isotope.settings,a),this.styleQueue=[],this.elemCount=0;var c=this.element[0].style;this.originalStyle={};var d=v.slice(0);for(var e in this.options.containerStyle)d.push(e);for(var f=0,g=d.length;f<g;f++)e=d[f],this.originalStyle[e]=c[e]||"";this.element.css(this.options.containerStyle),this._updateAnimationEngine(),this._updateUsingTransforms();var h={"original-order":function(a,b){return b.elemCount++,b.elemCount},random:function(){return Math.random()}};this.options.getSortData=b.extend(this.options.getSortData,h),this.reloadItems(),this.offset={left:parseInt(this.element.css("padding-left")||0,10),top:parseInt(this.element.css("padding-top")||0,10)};var i=this;setTimeout(function(){i.element.addClass(i.options.containerClass)},0),this.options.resizable&&w.bind("smartresize.isotope",function(){i.resize()}),this.element.delegate("."+this.options.hiddenClass,"click",function(){return!1})},_getAtoms:function(a){var b=this.options.itemSelector,c=b?a.filter(b).add(a.find(b)):a,d={position:"absolute"};return c=c.filter(function(a,b){return b.nodeType===1}),this.usingTransforms&&(d.left=0,d.top=0),c.css(d).addClass(this.options.itemClass),this.updateSortData(c,!0),c},_init:function(a){this.$filteredAtoms=this._filter(this.$allAtoms),this._sort(),this.reLayout(a)},option:function(a){if(b.isPlainObject(a)){this.options=b.extend(!0,this.options,a);var c;for(var d in a)c="_update"+f(d),this[c]&&this[c]()}},_updateAnimationEngine:function(){var a=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,""),b;switch(a){case"css":case"none":b=!1;break;case"jquery":b=!0;break;default:b=!e.csstransitions}this.isUsingJQueryAnimation=b,this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var a=this.usingTransforms=this.options.transformsEnabled&&e.csstransforms&&e.csstransitions&&!this.isUsingJQueryAnimation;a||(delete this.options.hiddenStyle.scale,delete this.options.visibleStyle.scale),this.getPositionStyles=a?this._translate:this._positionAbs},_filter:function(a){var b=this.options.filter===""?"*":this.options.filter;if(!b)return a;var c=this.options.hiddenClass,d="."+c,e=a.filter(d),f=e;if(b!=="*"){f=e.filter(b);var g=a.not(d).not(b).addClass(c);this.styleQueue.push({$el:g,style:this.options.hiddenStyle})}return this.styleQueue.push({$el:f,style:this.options.visibleStyle}),f.removeClass(c),a.filter(b)},updateSortData:function(a,c){var d=this,e=this.options.getSortData,f,g;a.each(function(){f=b(this),g={};for(var a in e)!c&&a==="original-order"?g[a]=b.data(this,"isotope-sort-data")[a]:g[a]=e[a](f,d);b.data(this,"isotope-sort-data",g)})},_sort:function(){var a=this.options.sortBy,b=this._getSorter,c=this.options.sortAscending?1:-1,d=function(d,e){var f=b(d,a),g=b(e,a);return f===g&&a!=="original-order"&&(f=b(d,"original-order"),g=b(e,"original-order")),(f>g?1:f<g?-1:0)*c};this.$filteredAtoms.sort(d)},_getSorter:function(a,c){return b.data(a,"isotope-sort-data")[c]},_translate:function(a,b){return{translate:[a,b]}},_positionAbs:function(a,b){return{left:a,top:b}},_pushPosition:function(a,b,c){b=Math.round(b+this.offset.left),c=Math.round(c+this.offset.top);var d=this.getPositionStyles(b,c);this.styleQueue.push({$el:a,style:d}),this.options.itemPositionDataEnabled&&a.data("isotope-item-position",{x:b,y:c})},layout:function(a,b){var c=this.options.layoutMode;this["_"+c+"Layout"](a);if(this.options.resizesContainer){var d=this["_"+c+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:d})}this._processStyleQueue(a,b),this.isLaidOut=!0},_processStyleQueue:function(a,c){var d=this.isLaidOut?this.isUsingJQueryAnimation?"animate":"css":"css",f=this.options.animationOptions,g=this.options.onLayout,h,i,j,k;i=function(a,b){b.$el[d](b.style,f)};if(this._isInserting&&this.isUsingJQueryAnimation)i=function(a,b){h=b.$el.hasClass("no-transition")?"css":d,b.$el[h](b.style,f)};else if(c||g||f.complete){var l=!1,m=[c,g,f.complete],n=this;j=!0,k=function(){if(l)return;var b;for(var c=0,d=m.length;c<d;c++)b=m[c],typeof b=="function"&&b.call(n.element,a,n);l=!0};if(this.isUsingJQueryAnimation&&d==="animate")f.complete=k,j=!1;else if(e.csstransitions){var o=0,p=this.styleQueue[0],s=p&&p.$el,t;while(!s||!s.length){t=this.styleQueue[o++];if(!t)return;s=t.$el}var u=parseFloat(getComputedStyle(s[0])[r]);u>0&&(i=function(a,b){b.$el[d](b.style,f).one(q,k)},j=!1)}}b.each(this.styleQueue,i),j&&k(),this.styleQueue=[]},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(a){this["_"+this.options.layoutMode+"Reset"](),this.layout(this.$filteredAtoms,a)},addItems:function(a,b){var c=this._getAtoms(a);this.$allAtoms=this.$allAtoms.add(c),b&&b(c)},insert:function(a,b){this.element.append(a);var c=this;this.addItems(a,function(a){var d=c._filter(a);c._addHideAppended(d),c._sort(),c.reLayout(),c._revealAppended(d,b)})},appended:function(a,b){var c=this;this.addItems(a,function(a){c._addHideAppended(a),c.layout(a),c._revealAppended(a,b)})},_addHideAppended:function(a){this.$filteredAtoms=this.$filteredAtoms.add(a),a.addClass("no-transition"),this._isInserting=!0,this.styleQueue.push({$el:a,style:this.options.hiddenStyle})},_revealAppended:function(a,b){var c=this;setTimeout(function(){a.removeClass("no-transition"),c.styleQueue.push({$el:a,style:c.options.visibleStyle}),c._isInserting=!1,c._processStyleQueue(a,b)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(a,b){this.$allAtoms=this.$allAtoms.not(a),this.$filteredAtoms=this.$filteredAtoms.not(a);var c=this,d=function(){a.remove(),b&&b.call(c.element)};a.filter(":not(."+this.options.hiddenClass+")").length?(this.styleQueue.push({$el:a,style:this.options.hiddenStyle}),this._sort(),this.reLayout(d)):d()},shuffle:function(a){this.updateSortData(this.$allAtoms),this.options.sortBy="random",this._sort(),this.reLayout(a)},destroy:function(){var a=this.usingTransforms,b=this.options;this.$allAtoms.removeClass(b.hiddenClass+" "+b.itemClass).each(function(){var b=this.style;b.position="",b.top="",b.left="",b.opacity="",a&&(b[i]="")});var c=this.element[0].style;for(var d in this.originalStyle)c[d]=this.originalStyle[d];this.element.unbind(".isotope").undelegate("."+b.hiddenClass,"click").removeClass(b.containerClass).removeData("isotope"),w.unbind(".isotope")},_getSegments:function(a){var b=this.options.layoutMode,c=a?"rowHeight":"columnWidth",d=a?"height":"width",e=a?"rows":"cols",g=this.element[d](),h,i=this.options[b]&&this.options[b][c]||this.$filteredAtoms["outer"+f(d)](!0)||g;h=Math.floor(g/i),h=Math.max(h,1),this[b][e]=h,this[b][c]=i},_checkIfSegmentsChanged:function(a){var b=this.options.layoutMode,c=a?"rows":"cols",d=this[b][c];return this._getSegments(a),this[b][c]!==d},_masonryReset:function(){this.masonry={},this._getSegments();var a=this.masonry.cols;this.masonry.colYs=[];while(a--)this.masonry.colYs.push(0)},_masonryLayout:function(a){var c=this,d=c.masonry;a.each(function(){var a=b(this),e=Math.ceil(a.outerWidth(!0)/d.columnWidth);e=Math.min(e,d.cols);if(e===1)c._masonryPlaceBrick(a,d.colYs);else{var f=d.cols+1-e,g=[],h,i;for(i=0;i<f;i++)h=d.colYs.slice(i,i+e),g[i]=Math.max.apply(Math,h);c._masonryPlaceBrick(a,g)}})},_masonryPlaceBrick:function(a,b){var c=Math.min.apply(Math,b),d=0;for(var e=0,f=b.length;e<f;e++)if(b[e]===c){d=e;break}var g=this.masonry.columnWidth*d,h=c;this._pushPosition(a,g,h);var i=c+a.outerHeight(!0),j=this.masonry.cols+1-f;for(e=0;e<j;e++)this.masonry.colYs[d+e]=i},_masonryGetContainerSize:function(){var a=Math.max.apply(Math,this.masonry.colYs);return{height:a}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(a){var c=this,d=this.element.width(),e=this.fitRows;a.each(function(){var a=b(this),f=a.outerWidth(!0),g=a.outerHeight(!0);e.x!==0&&f+e.x>d&&(e.x=0,e.y=e.height),c._pushPosition(a,e.x,e.y),e.height=Math.max(e.y+g,e.height),e.x+=f})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return!0},_cellsByRowReset:function(){this.cellsByRow={index:0},this._getSegments(),this._getSegments(!0)},_cellsByRowLayout:function(a){var c=this,d=this.cellsByRow;a.each(function(){var a=b(this),e=d.index%d.cols,f=Math.floor(d.index/d.cols),g=(e+.5)*d.columnWidth-a.outerWidth(!0)/2,h=(f+.5)*d.rowHeight-a.outerHeight(!0)/2;c._pushPosition(a,g,h),d.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(a){var c=this;a.each(function(a){var d=b(this);c._pushPosition(d,0,c.straightDown.y),c.straightDown.y+=d.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return!0},_masonryHorizontalReset:function(){this.masonryHorizontal={},this._getSegments(!0);var a=this.masonryHorizontal.rows;this.masonryHorizontal.rowXs=[];while(a--)this.masonryHorizontal.rowXs.push(0)},_masonryHorizontalLayout:function(a){var c=this,d=c.masonryHorizontal;a.each(function(){var a=b(this),e=Math.ceil(a.outerHeight(!0)/d.rowHeight);e=Math.min(e,d.rows);if(e===1)c._masonryHorizontalPlaceBrick(a,d.rowXs);else{var f=d.rows+1-e,g=[],h,i;for(i=0;i<f;i++)h=d.rowXs.slice(i,i+e),g[i]=Math.max.apply(Math,h);c._masonryHorizontalPlaceBrick(a,g)}})},_masonryHorizontalPlaceBrick:function(a,b){var c=Math.min.apply(Math,b),d=0;for(var e=0,f=b.length;e<f;e++)if(b[e]===c){d=e;break}var g=c,h=this.masonryHorizontal.rowHeight*d;this._pushPosition(a,g,h);var i=c+a.outerWidth(!0),j=this.masonryHorizontal.rows+1-f;for(e=0;e<j;e++)this.masonryHorizontal.rowXs[d+e]=i},_masonryHorizontalGetContainerSize:function(){var a=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:a}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(a){var c=this,d=this.element.height(),e=this.fitColumns;a.each(function(){var a=b(this),f=a.outerWidth(!0),g=a.outerHeight(!0);e.y!==0&&g+e.y>d&&(e.x=e.width,e.y=0),c._pushPosition(a,e.x,e.y),e.width=Math.max(e.x+f,e.width),e.y+=g})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return!0},_cellsByColumnReset:function(){this.cellsByColumn={index:0},this._getSegments(),this._getSegments(!0)},_cellsByColumnLayout:function(a){var c=this,d=this.cellsByColumn;a.each(function(){var a=b(this),e=Math.floor(d.index/d.rows),f=d.index%d.rows,g=(e+.5)*d.columnWidth-a.outerWidth(!0)/2,h=(f+.5)*d.rowHeight-a.outerHeight(!0)/2;c._pushPosition(a,g,h),d.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(a){var c=this;a.each(function(a){var d=b(this);c._pushPosition(d,c.straightAcross.x,0),c.straightAcross.x+=d.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return!0}},b.fn.imagesLoaded=function(a){function h(){a.call(c,d)}function i(a){var c=a.target;c.src!==f&&b.inArray(c,g)===-1&&(g.push(c),--e<=0&&(setTimeout(h),d.unbind(".imagesLoaded",i)))}var c=this,d=c.find("img").add(c.filter("img")),e=d.length,f="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",g=[];return e||h(),d.bind("load.imagesLoaded error.imagesLoaded",i).each(function(){var a=this.src;this.src=f,this.src=a}),c};var x=function(b){a.console&&a.console.error(b)};b.fn.isotope=function(a,c){if(typeof a=="string"){var d=Array.prototype.slice.call(arguments,1);this.each(function(){var c=b.data(this,"isotope");if(!c){x("cannot call methods on isotope prior to initialization; attempted to call method '"+a+"'");return}if(!b.isFunction(c[a])||a.charAt(0)==="_"){x("no such method '"+a+"' for isotope instance");return}c[a].apply(c,d)})}else this.each(function(){var d=b.data(this,"isotope");d?(d.option(a),d._init(c)):b.data(this,"isotope",new b.Isotope(a,this,c))});return this}})(window,jQuery);

	jQuery.Isotope.prototype._getMasonryGutterColumns=function(){var gutter=this.options.masonry&&this.options.masonry.gutterWidth||0;containerWidth=this.element.width();this.masonry.columnWidth=this.options.masonry&&this.options.masonry.columnWidth||this.$filteredAtoms.outerWidth(true)||containerWidth;this.masonry.columnWidth+=gutter;this.masonry.cols=Math.floor((containerWidth+gutter)/this.masonry.columnWidth);this.masonry.cols=Math.max(this.masonry.cols,1)};
	jQuery.Isotope.prototype._masonryReset=function(){this.masonry={};this._getMasonryGutterColumns();var i=this.masonry.cols;this.masonry.colYs=[];while(i--)this.masonry.colYs.push(0)};jQuery.Isotope.prototype._masonryResizeChanged=function(){var prevSegments=this.masonry.cols;this._getMasonryGutterColumns();return this.masonry.cols!==prevSegments};

}

//PrettyPhoto
jQuery.noConflict();
!function(e){function t(){var e=location.href;return hashtag=-1!==e.indexOf("#prettyPhoto")?decodeURI(e.substring(e.indexOf("#prettyPhoto")+1,e.length)):!1,hashtag&&(hashtag=hashtag.replace(/<|>/g,"")),hashtag}function i(){"undefined"!=typeof theRel&&(location.hash=theRel+"/"+rel_index+"/")}function p(){-1!==location.href.indexOf("#prettyPhoto")&&(location.hash="prettyPhoto")}function o(e,t){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i="[\\?&]"+e+"=([^&#]*)",p=new RegExp(i),o=p.exec(t);return null==o?"":o[1]}e.prettyPhoto={version:"3.1.6"},e.fn.prettyPhoto=function(a){function s(){e(".pp_loaderIcon").hide(),projectedTop=scroll_pos.scrollTop+(I/2-f.containerHeight/2),projectedTop<0&&(projectedTop=0),$ppt.fadeTo(settings.animation_speed,1),$pp_pic_holder.find(".pp_content").animate({height:f.contentHeight,width:f.contentWidth},settings.animation_speed),$pp_pic_holder.animate({top:projectedTop,left:j/2-f.containerWidth/2<0?0:j/2-f.containerWidth/2,width:f.containerWidth},settings.animation_speed,function(){$pp_pic_holder.find(".pp_hoverContainer,#fullResImage").height(f.height).width(f.width),$pp_pic_holder.find(".pp_fade").fadeIn(settings.animation_speed),isSet&&"image"==h(pp_images[set_position])?$pp_pic_holder.find(".pp_hoverContainer").show():$pp_pic_holder.find(".pp_hoverContainer").hide(),settings.allow_expand&&(f.resized?e("a.pp_expand,a.pp_contract").show():e("a.pp_expand").hide()),!settings.autoplay_slideshow||P||v||e.prettyPhoto.startSlideshow(),settings.changepicturecallback(),v=!0}),m(),a.ajaxcallback()}function n(t){$pp_pic_holder.find("#pp_full_res object,#pp_full_res embed").css("visibility","hidden"),$pp_pic_holder.find(".pp_fade").fadeOut(settings.animation_speed,function(){e(".pp_loaderIcon").show(),t()})}function r(t){t>1?e(".pp_nav").show():e(".pp_nav").hide()}function l(e,t){if(resized=!1,d(e,t),imageWidth=e,imageHeight=t,(k>j||b>I)&&doresize&&settings.allow_resize&&!$){for(resized=!0,fitting=!1;!fitting;)k>j?(imageWidth=j-200,imageHeight=t/e*imageWidth):b>I?(imageHeight=I-200,imageWidth=e/t*imageHeight):fitting=!0,b=imageHeight,k=imageWidth;(k>j||b>I)&&l(k,b),d(imageWidth,imageHeight)}return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(b),containerWidth:Math.floor(k)+2*settings.horizontal_padding,contentHeight:Math.floor(y),contentWidth:Math.floor(w),resized:resized}}function d(t,i){t=parseFloat(t),i=parseFloat(i),$pp_details=$pp_pic_holder.find(".pp_details"),$pp_details.width(t),detailsHeight=parseFloat($pp_details.css("marginTop"))+parseFloat($pp_details.css("marginBottom")),$pp_details=$pp_details.clone().addClass(settings.theme).width(t).appendTo(e("body")).css({position:"absolute",top:-1e4}),detailsHeight+=$pp_details.height(),detailsHeight=detailsHeight<=34?36:detailsHeight,$pp_details.remove(),$pp_title=$pp_pic_holder.find(".ppt"),$pp_title.width(t),titleHeight=parseFloat($pp_title.css("marginTop"))+parseFloat($pp_title.css("marginBottom")),$pp_title=$pp_title.clone().appendTo(e("body")).css({position:"absolute",top:-1e4}),titleHeight+=$pp_title.height(),$pp_title.remove(),y=i+detailsHeight,w=t,b=y+titleHeight+$pp_pic_holder.find(".pp_top").height()+$pp_pic_holder.find(".pp_bottom").height(),k=t}function h(e){return e.match(/youtube\.com\/watch/i)||e.match(/youtu\.be/i)?"youtube":e.match(/vimeo\.com/i)?"vimeo":e.match(/\b.mov\b/i)?"quicktime":e.match(/\b.swf\b/i)?"flash":e.match(/\biframe=true\b/i)?"iframe":e.match(/\bajax=true\b/i)?"ajax":e.match(/\bcustom=true\b/i)?"custom":"#"==e.substr(0,1)?"inline":"image"}function c(){if(doresize&&"undefined"!=typeof $pp_pic_holder){if(scroll_pos=_(),contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width(),projectedTop=I/2+scroll_pos.scrollTop-contentHeight/2,projectedTop<0&&(projectedTop=0),contentHeight>I)return;$pp_pic_holder.css({top:projectedTop,left:j/2+scroll_pos.scrollLeft-contentwidth/2})}}function _(){return self.pageYOffset?{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset}:document.documentElement&&document.documentElement.scrollTop?{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft}:document.body?{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}:void 0}function g(){I=e(window).height(),j=e(window).width(),"undefined"!=typeof $pp_overlay&&$pp_overlay.height(e(document).height()).width(j)}function m(){isSet&&settings.overlay_gallery&&"image"==h(pp_images[set_position])?(itemWidth=57,navWidth="facebook"==settings.theme||"pp_default"==settings.theme?50:30,itemsPerPage=Math.floor((f.containerWidth-100-navWidth)/itemWidth),itemsPerPage=itemsPerPage<pp_images.length?itemsPerPage:pp_images.length,totalPage=Math.ceil(pp_images.length/itemsPerPage)-1,0==totalPage?(navWidth=0,$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").hide()):$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").show(),galleryWidth=itemsPerPage*itemWidth,fullGalleryWidth=pp_images.length*itemWidth,$pp_gallery.css("margin-left",-(galleryWidth/2+navWidth/2)).find("div:first").width(galleryWidth+5).find("ul").width(fullGalleryWidth).find("li.selected").removeClass("selected"),goToPage=Math.floor(set_position/itemsPerPage)<totalPage?Math.floor(set_position/itemsPerPage):totalPage,e.prettyPhoto.changeGalleryPage(goToPage),$pp_gallery_li.filter(":eq("+set_position+")").addClass("selected")):$pp_pic_holder.find(".pp_content").unbind("mouseenter mouseleave")}function u(){if(settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href))),settings.markup=settings.markup.replace("{pp_social}",""),e("body").append(settings.markup),$pp_pic_holder=e(".pp_pic_holder"),$ppt=e(".ppt"),$pp_overlay=e("div.pp_overlay"),isSet&&settings.overlay_gallery){currentGalleryPage=0,toInject="";for(var t=0;t<pp_images.length;t++)pp_images[t].match(/\b(jpg|jpeg|png|gif)\b/gi)?(classname="",img_src=pp_images[t]):(classname="default",img_src=""),toInject+="<li class='"+classname+"'><a href='#'><img src='"+img_src+"' width='50' alt='' /></a></li>";toInject=settings.gallery_markup.replace(/{gallery}/g,toInject),$pp_pic_holder.find("#pp_full_res").after(toInject),$pp_gallery=e(".pp_pic_holder .pp_gallery"),$pp_gallery_li=$pp_gallery.find("li"),$pp_gallery.find(".pp_arrow_next").click(function(){return e.prettyPhoto.changeGalleryPage("next"),e.prettyPhoto.stopSlideshow(),!1}),$pp_gallery.find(".pp_arrow_previous").click(function(){return e.prettyPhoto.changeGalleryPage("previous"),e.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_content").hover(function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeIn()},function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeOut()}),itemWidth=57,$pp_gallery_li.each(function(t){e(this).find("a").click(function(){return e.prettyPhoto.changePage(t),e.prettyPhoto.stopSlideshow(),!1})})}settings.slideshow&&($pp_pic_holder.find(".pp_nav").prepend('<a href="#" class="pp_play">Play</a>'),$pp_pic_holder.find(".pp_nav .pp_play").click(function(){return e.prettyPhoto.startSlideshow(),!1})),$pp_pic_holder.attr("class","pp_pic_holder "+settings.theme),$pp_overlay.css({opacity:0,height:e(document).height(),width:e(window).width()}).bind("click",function(){settings.modal||e.prettyPhoto.close()}),e("a.pp_close").bind("click",function(){return e.prettyPhoto.close(),!1}),settings.allow_expand&&e("a.pp_expand").bind("click",function(){return e(this).hasClass("pp_expand")?(e(this).removeClass("pp_expand").addClass("pp_contract"),doresize=!1):(e(this).removeClass("pp_contract").addClass("pp_expand"),doresize=!0),n(function(){e.prettyPhoto.open()}),!1}),$pp_pic_holder.find(".pp_previous, .pp_nav .pp_arrow_previous").bind("click",function(){return e.prettyPhoto.changePage("previous"),e.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_next, .pp_nav .pp_arrow_next").bind("click",function(){return e.prettyPhoto.changePage("next"),e.prettyPhoto.stopSlideshow(),!1}),c()}a=jQuery.extend({hook:"rel",animation_speed:"fast",ajaxcallback:function(){},slideshow:5e3,autoplay_slideshow:!1,opacity:.8,show_title:!0,allow_resize:!0,allow_expand:!0,default_width:500,default_height:344,counter_separator_label:"/",theme:"pp_default",horizontal_padding:20,hideflash:!1,wmode:"opaque",autoplay:!0,modal:!1,deeplinking:!0,overlay_gallery:!0,overlay_gallery_max:30,keyboard_shortcuts:!0,changepicturecallback:function(){},callback:function(){},ie6_fallback:!0,markup:'<div class="pp_pic_holder"> 						<div class="ppt">&nbsp;</div> 						<div class="pp_top"> 							<div class="pp_left"></div> 							<div class="pp_middle"></div> 							<div class="pp_right"></div> 						</div> 						<div class="pp_content_container"> 							<div class="pp_left"> 							<div class="pp_right"> 								<div class="pp_content"> 									<div class="pp_loaderIcon"></div> 									<div class="pp_fade"> 										<a href="#" class="pp_expand" title="Expand the image">Expand</a> 										<div class="pp_hoverContainer"> 											<a class="pp_next" href="#">next</a> 											<a class="pp_previous" href="#">previous</a> 										</div> 										<div id="pp_full_res"></div> 										<div class="pp_details"> 											<div class="pp_nav"> 												<a href="#" class="pp_arrow_previous">Previous</a> 												<p class="currentTextHolder">0/0</p> 												<a href="#" class="pp_arrow_next">Next</a> 											</div> 											<p class="pp_description"></p> 											<div class="pp_social">{pp_social}</div> 											<a class="pp_close" href="#">Close</a> 										</div> 									</div> 								</div> 							</div> 							</div> 						</div> 						<div class="pp_bottom"> 							<div class="pp_left"></div> 							<div class="pp_middle"></div> 							<div class="pp_right"></div> 						</div> 					</div> 					<div class="pp_overlay"></div>',gallery_markup:'<div class="pp_gallery"> 								<a href="#" class="pp_arrow_previous">Previous</a> 								<div> 									<ul> 										{gallery} 									</ul> 								</div> 								<a href="#" class="pp_arrow_next">Next</a> 							</div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>',inline_markup:'<div class="pp_inline">{content}</div>',custom_markup:"",social_tools:'<div class="twitter"><a href="http://twitter.com/share" class="twitter-share-button" data-count="none">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script></div><div class="facebook"><iframe src="//www.facebook.com/plugins/like.php?locale=en_US&href={location_href}&layout=button_count&show_faces=true&width=500&action=like&font&colorscheme=light&height=23" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:500px; height:23px;" allowTransparency="true"></iframe></div>'},a);var f,v,y,w,b,k,P,x=this,$=!1,I=e(window).height(),j=e(window).width();return doresize=!0,scroll_pos=_(),e(window).unbind("resize.prettyphoto").bind("resize.prettyphoto",function(){c(),g()}),a.keyboard_shortcuts&&e(document).unbind("keydown.prettyphoto").bind("keydown.prettyphoto",function(t){if("undefined"!=typeof $pp_pic_holder&&$pp_pic_holder.is(":visible"))switch(t.keyCode){case 37:e.prettyPhoto.changePage("previous"),t.preventDefault();break;case 39:e.prettyPhoto.changePage("next"),t.preventDefault();break;case 27:settings.modal||e.prettyPhoto.close(),t.preventDefault()}}),e.prettyPhoto.initialize=function(){return settings=a,"pp_default"==settings.theme&&(settings.horizontal_padding=16),theRel=e(this).attr(settings.hook),galleryRegExp=/\[(?:.*)\]/,isSet=galleryRegExp.exec(theRel)?!0:!1,pp_images=isSet?jQuery.map(x,function(t){return-1!=e(t).attr(settings.hook).indexOf(theRel)?e(t).attr("href"):void 0}):e.makeArray(e(this).attr("href")),pp_titles=isSet?jQuery.map(x,function(t){return-1!=e(t).attr(settings.hook).indexOf(theRel)?e(t).find("img").attr("alt")?e(t).find("img").attr("alt"):"":void 0}):e.makeArray(e(this).find("img").attr("alt")),pp_descriptions=isSet?jQuery.map(x,function(t){return-1!=e(t).attr(settings.hook).indexOf(theRel)?e(t).attr("title")?e(t).attr("title"):"":void 0}):e.makeArray(e(this).attr("title")),pp_images.length>settings.overlay_gallery_max&&(settings.overlay_gallery=!1),set_position=jQuery.inArray(e(this).attr("href"),pp_images),rel_index=isSet?set_position:e("a["+settings.hook+"^='"+theRel+"']").index(e(this)),u(this),settings.allow_resize&&e(window).bind("scroll.prettyphoto",function(){c()}),e.prettyPhoto.open(),!1},e.prettyPhoto.open=function(t){return"undefined"==typeof settings&&(settings=a,pp_images=e.makeArray(arguments[0]),pp_titles=e.makeArray(arguments[1]?arguments[1]:""),pp_descriptions=e.makeArray(arguments[2]?arguments[2]:""),isSet=pp_images.length>1?!0:!1,set_position=arguments[3]?arguments[3]:0,u(t.target)),settings.hideflash&&e("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","hidden"),r(e(pp_images).size()),e(".pp_loaderIcon").show(),settings.deeplinking&&i(),settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href)),$pp_pic_holder.find(".pp_social").html(facebook_like_link)),$ppt.is(":hidden")&&$ppt.css("opacity",0).show(),$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity),$pp_pic_holder.find(".currentTextHolder").text(set_position+1+settings.counter_separator_label+e(pp_images).size()),"undefined"!=typeof pp_descriptions[set_position]&&""!=pp_descriptions[set_position]?$pp_pic_holder.find(".pp_description").show().html(unescape(pp_descriptions[set_position])):$pp_pic_holder.find(".pp_description").hide(),movie_width=parseFloat(o("width",pp_images[set_position]))?o("width",pp_images[set_position]):settings.default_width.toString(),movie_height=parseFloat(o("height",pp_images[set_position]))?o("height",pp_images[set_position]):settings.default_height.toString(),$=!1,-1!=movie_height.indexOf("%")&&(movie_height=parseFloat(e(window).height()*parseFloat(movie_height)/100-150),$=!0),-1!=movie_width.indexOf("%")&&(movie_width=parseFloat(e(window).width()*parseFloat(movie_width)/100-150),$=!0),$pp_pic_holder.fadeIn(function(){switch($ppt.html(settings.show_title&&""!=pp_titles[set_position]&&"undefined"!=typeof pp_titles[set_position]?unescape(pp_titles[set_position]):"&nbsp;"),imgPreloader="",skipInjection=!1,h(pp_images[set_position])){case"image":imgPreloader=new Image,nextImage=new Image,isSet&&set_position<e(pp_images).size()-1&&(nextImage.src=pp_images[set_position+1]),prevImage=new Image,isSet&&pp_images[set_position-1]&&(prevImage.src=pp_images[set_position-1]),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]),imgPreloader.onload=function(){f=l(imgPreloader.width,imgPreloader.height),s()},imgPreloader.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist."),e.prettyPhoto.close()},imgPreloader.src=pp_images[set_position];break;case"youtube":f=l(movie_width,movie_height),movie_id=o("v",pp_images[set_position]),""==movie_id&&(movie_id=pp_images[set_position].split("youtu.be/"),movie_id=movie_id[1],movie_id.indexOf("?")>0&&(movie_id=movie_id.substr(0,movie_id.indexOf("?"))),movie_id.indexOf("&")>0&&(movie_id=movie_id.substr(0,movie_id.indexOf("&")))),movie="http://www.youtube.com/embed/"+movie_id,movie+=o("rel",pp_images[set_position])?"?rel="+o("rel",pp_images[set_position]):"?rel=1",settings.autoplay&&(movie+="&autoplay=1"),toInject=settings.iframe_markup.replace(/{width}/g,f.width).replace(/{height}/g,f.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case"vimeo":f=l(movie_width,movie_height),movie_id=pp_images[set_position];var t=/http(s?):\/\/(www\.)?vimeo.com\/(\d+)/,i=movie_id.match(t);movie="http://player.vimeo.com/video/"+i[3]+"?title=0&byline=0&portrait=0",settings.autoplay&&(movie+="&autoplay=1;"),vimeo_width=f.width+"/embed/?moog_width="+f.width,toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,f.height).replace(/{path}/g,movie);break;case"quicktime":f=l(movie_width,movie_height),f.height+=15,f.contentHeight+=15,f.containerHeight+=15,toInject=settings.quicktime_markup.replace(/{width}/g,f.width).replace(/{height}/g,f.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case"flash":f=l(movie_width,movie_height),flash_vars=pp_images[set_position],flash_vars=flash_vars.substring(pp_images[set_position].indexOf("flashvars")+10,pp_images[set_position].length),filename=pp_images[set_position],filename=filename.substring(0,filename.indexOf("?")),toInject=settings.flash_markup.replace(/{width}/g,f.width).replace(/{height}/g,f.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+"?"+flash_vars);break;case"iframe":f=l(movie_width,movie_height),frame_url=pp_images[set_position],frame_url=frame_url.substr(0,frame_url.indexOf("iframe")-1),toInject=settings.iframe_markup.replace(/{width}/g,f.width).replace(/{height}/g,f.height).replace(/{path}/g,frame_url);break;case"ajax":doresize=!1,f=l(movie_width,movie_height),doresize=!0,skipInjection=!0,e.get(pp_images[set_position],function(e){toInject=settings.inline_markup.replace(/{content}/g,e),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,s()});break;case"custom":f=l(movie_width,movie_height),toInject=settings.custom_markup;break;case"inline":myClone=e(pp_images[set_position]).clone().append('<br clear="all" />').css({width:settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"></div></div>').appendTo(e("body")).show(),doresize=!1,f=l(e(myClone).width(),e(myClone).height()),doresize=!0,e(myClone).remove(),toInject=settings.inline_markup.replace(/{content}/g,e(pp_images[set_position]).html())}imgPreloader||skipInjection||($pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,s())}),!1},e.prettyPhoto.changePage=function(t){currentGalleryPage=0,"previous"==t?(set_position--,set_position<0&&(set_position=e(pp_images).size()-1)):"next"==t?(set_position++,set_position>e(pp_images).size()-1&&(set_position=0)):set_position=t,rel_index=set_position,doresize||(doresize=!0),settings.allow_expand&&e(".pp_contract").removeClass("pp_contract").addClass("pp_expand"),n(function(){e.prettyPhoto.open()})},e.prettyPhoto.changeGalleryPage=function(e){"next"==e?(currentGalleryPage++,currentGalleryPage>totalPage&&(currentGalleryPage=0)):"previous"==e?(currentGalleryPage--,currentGalleryPage<0&&(currentGalleryPage=totalPage)):currentGalleryPage=e,slide_speed="next"==e||"previous"==e?settings.animation_speed:0,slide_to=currentGalleryPage*itemsPerPage*itemWidth,$pp_gallery.find("ul").animate({left:-slide_to},slide_speed)},e.prettyPhoto.startSlideshow=function(){"undefined"==typeof P?($pp_pic_holder.find(".pp_play").unbind("click").removeClass("pp_play").addClass("pp_pause").click(function(){return e.prettyPhoto.stopSlideshow(),!1}),P=setInterval(e.prettyPhoto.startSlideshow,settings.slideshow)):e.prettyPhoto.changePage("next")},e.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find(".pp_pause").unbind("click").removeClass("pp_pause").addClass("pp_play").click(function(){return e.prettyPhoto.startSlideshow(),!1}),clearInterval(P),P=void 0},e.prettyPhoto.close=function(){$pp_overlay.is(":animated")||(e.prettyPhoto.stopSlideshow(),$pp_pic_holder.stop().find("object,embed").css("visibility","hidden"),e("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut(settings.animation_speed,function(){e(this).remove()}),$pp_overlay.fadeOut(settings.animation_speed,function(){settings.hideflash&&e("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","visible"),e(this).remove(),e(window).unbind("scroll.prettyphoto"),p(),settings.callback(),doresize=!0,v=!1,delete settings}))},!pp_alreadyInitialized&&t()&&(pp_alreadyInitialized=!0,hashIndex=t(),hashRel=hashIndex,hashIndex=hashIndex.substring(hashIndex.indexOf("/")+1,hashIndex.length-1),hashRel=hashRel.substring(0,hashRel.indexOf("/")),setTimeout(function(){e("a["+a.hook+"^='"+hashRel+"']:eq("+hashIndex+")").trigger("click")},50)),this.unbind("click.prettyphoto").bind("click.prettyphoto",e.prettyPhoto.initialize)}}(jQuery);var pp_alreadyInitialized=!1;

//ScrollTo Jquery
jQuery.noConflict();
;(function($){var h=$.scrollTo=function(a,b,c){$(window).scrollTo(a,b,c)};h.defaults={axis:'xy',duration:parseFloat($.fn.jquery)>=1.3?0:1,limit:true};h.window=function(a){return $(window)._scrollable()};$.fn._scrollable=function(){return this.map(function(){var a=this,isWin=!a.nodeName||$.inArray(a.nodeName.toLowerCase(),['iframe','#document','html','body'])!=-1;if(!isWin)return a;var b=(a.contentWindow||a).document||a.ownerDocument||a;return/webkit/i.test(navigator.userAgent)||b.compatMode=='BackCompat'?b.body:b.documentElement})};$.fn.scrollTo=function(e,f,g){if(typeof f=='object'){g=f;f=0}if(typeof g=='function')g={onAfter:g};if(e=='max')e=9e9;g=$.extend({},h.defaults,g);f=f||g.duration;g.queue=g.queue&&g.axis.length>1;if(g.queue)f/=2;g.offset=both(g.offset);g.over=both(g.over);return this._scrollable().each(function(){if(!e)return;var d=this,$elem=$(d),targ=e,toff,attr={},win=$elem.is('html,body');switch(typeof targ){case'number':case'string':if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(targ)){targ=both(targ);break}targ=$(targ,this);if(!targ.length)return;case'object':if(targ.is||targ.style)toff=(targ=$(targ)).offset()}$.each(g.axis.split(''),function(i,a){var b=a=='x'?'Left':'Top',pos=b.toLowerCase(),key='scroll'+b,old=d[key],max=h.max(d,a);if(toff){attr[key]=toff[pos]+(win?0:old-$elem.offset()[pos]);if(g.margin){attr[key]-=parseInt(targ.css('margin'+b))||0;attr[key]-=parseInt(targ.css('border'+b+'Width'))||0}attr[key]+=g.offset[pos]||0;if(g.over[pos])attr[key]+=targ[a=='x'?'width':'height']()*g.over[pos]}else{var c=targ[pos];attr[key]=c.slice&&c.slice(-1)=='%'?parseFloat(c)/100*max:c}if(g.limit&&/^\d+$/.test(attr[key]))attr[key]=attr[key]<=0?0:Math.min(attr[key],max);if(!i&&g.queue){if(old!=attr[key])animate(g.onAfterFirst);delete attr[key]}});animate(g.onAfter);function animate(a){$elem.animate(attr,f,g.easing,a&&function(){a.call(this,e,g)})}}).end()};h.max=function(a,b){var c=b=='x'?'Width':'Height',scroll='scroll'+c;if(!$(a).is('html,body'))return a[scroll]-$(a)[c.toLowerCase()]();var d='client'+c,html=a.ownerDocument.documentElement,body=a.ownerDocument.body;return Math.max(html[scroll],body[scroll])-Math.min(html[d],body[d])};function both(a){return typeof a=='object'?a:{top:a,left:a}}})(jQuery);

//Sticky Navigation
var $isOnePageStickyNav = mytheme_urls.onepagestickynav;
var $isStickyNav = mytheme_urls.stickynav;
if(($isOnePage == 'true' && $isOnePageStickyNav == 'enable') || ($isStickyNav == 'enable' && !isMobile && currentWidth > 767)) {

	jQuery.noConflict();
	!function(t){var e={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:""},n=t(window),i=t(document),a=[],s=n.height(),r=function(){var e,r=jQuery("#header-animate").height(),o=jQuery("#main-menu").height();e=-r;for(var c=n.scrollTop(),p=i.height(),l=p-s,d=c>l?l-c:e,h=0;h<a.length;h++){var m=a[h],u=m.stickyWrapper.offset().top,g=u-m.topSpacing-d;if(g>=c)null!==m.currentTop&&(m.stickyElement.css("position","").css("top","").css("height",""),m.stickyElement.parent().hasClass(m.className)&&m.stickyElement.parent().animate({},{queue:!1,duration:250,easing:"linear",complete:function(){m.stickyElement.parent().removeClass(m.className)}}),m.currentTop=null);else{var y=p-m.stickyElement.outerHeight()-m.topSpacing-m.bottomSpacing-c-d;0>y?y+=m.topSpacing:y=m.topSpacing,m.currentTop!=y&&(m.stickyElement.css("position","fixed").css("top",y).css("height",o),"undefined"!=typeof m.getWidthFrom&&m.stickyElement.css("width",t(m.getWidthFrom).width()),m.stickyElement.parent().addClass(m.className),m.stickyElement.parent().hasClass(m.className)||m.stickyElement.parent().animate({},{queue:!1,duration:250,easing:"linear",complete:function(){m.stickyElement.parent().addClass(m.className)}}),m.currentTop=y)}}},o=function(){s=n.height()},c={init:function(n){var i=t.extend(e,n);return this.each(function(){var e=t(this),n=e.attr("id"),s=t("<div></div>").attr("id",n+"-sticky-wrapper").addClass(i.wrapperClassName);e.wrapAll(s),i.center&&e.parent().css({width:e.outerWidth(),marginLeft:"auto",marginRight:"auto"}),"right"==e.css("float")&&e.css({"float":"none"}).parent().css({"float":"right"});var r=e.parent();r.css("height",e.outerHeight()),a.push({topSpacing:i.topSpacing,bottomSpacing:i.bottomSpacing,stickyElement:e,currentTop:null,stickyWrapper:r,className:i.className,getWidthFrom:i.getWidthFrom})})},update:r};window.addEventListener?(window.addEventListener("scroll",r,!1),window.addEventListener("resize",o,!1)):window.attachEvent&&(window.attachEvent("onscroll",r),window.attachEvent("onresize",o)),t.fn.sticky=function(e){return c[e]?c[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.sticky"):c.init.apply(this,arguments)},t(function(){setTimeout(r,0)})}(jQuery);	
	
}

//One Page Navigation
if($isOnePage == 'true') {
	
	jQuery.noConflict();
	!function(n,t,i){var e=function(e,s){this.elem=e,this.$elem=n(e),this.options=s,this.metadata=this.$elem.data("plugin-options"),this.$nav=this.$elem.find("a"),this.$win=n(t),this.sections={},this.didScroll=!1,this.$doc=n(i),this.docHeight=this.$doc.height()};e.prototype={defaults:{currentClass:"current",changeHash:!1,easing:"swing",filter:"",scrollSpeed:750,scrollOffset:0,scrollThreshold:.5,begin:!1,end:!1,scrollChange:!1},init:function(){var t=this;return t.config=n.extend({},t.defaults,t.options,t.metadata),""!==t.config.filter&&(t.$nav=t.$nav.filter(t.config.filter)),t.$nav.on("click.onePageNav",n.proxy(t.handleClick,t)),t.getPositions(),t.bindInterval(),t.$win.on("resize.onePageNav",n.proxy(t.getPositions,t)),this},adjustNav:function(n,t){n.$elem.find("."+n.config.currentClass).removeClass(n.config.currentClass),t.addClass(n.config.currentClass)},bindInterval:function(){var n,t=this;t.$win.on("scroll.onePageNav",function(){t.didScroll=!0}),t.t=setInterval(function(){n=t.$doc.height(),t.didScroll&&(t.didScroll=!1,t.scrollChange()),n!==t.docHeight&&(t.docHeight=n,t.getPositions())},250)},getHash:function(n){return n.attr("href").split("#")[1]},getPositions:function(){var t,i,e,s=this;s.$nav.each(function(){t=s.getHash(n(this)),e=n("#"+t),e.length&&(i=e.offset().top,s.sections[t]=Math.round(i)-s.config.scrollOffset)})},getSection:function(n){var t=null,i=Math.round(this.$win.height()*this.config.scrollThreshold);for(var e in this.sections)this.sections[e]-i<n&&(t=e);return t},handleClick:function(i){var e=this,s=n(i.currentTarget),o=s.parent(),a="#"+e.getHash(s);o.hasClass(e.config.currentClass)||(e.config.begin&&e.config.begin(),e.adjustNav(e,o),e.unbindInterval(),n.scrollTo(a,e.config.scrollSpeed,{axis:"y",easing:e.config.easing,offset:{top:-e.config.scrollOffset},onAfter:function(){e.config.changeHash&&(t.location.hash=a),e.bindInterval(),e.config.end&&e.config.end()}})),i.preventDefault()},scrollChange:function(){var n,t=this.$win.scrollTop(),i=this.getSection(t);null!==i&&(n=this.$elem.find('a[href$="#'+i+'"]').parent(),n.hasClass(this.config.currentClass)||(this.adjustNav(this,n),this.config.scrollChange&&this.config.scrollChange(n)))},unbindInterval:function(){clearInterval(this.t),this.$win.unbind("scroll.onePageNav")}},e.defaults=e.prototype.defaults,n.fn.onePageNav=function(n){return this.each(function(){new e(this,n).init()})}}(jQuery,window,document);
	
	jQuery.noConflict();
	(function(e){e.fn.meanmenu=function(n){var a={meanMenuTarget:jQuery(this),meanMenuContainer:"body",meanMenuClose:"X",meanMenuCloseSize:"18px",meanMenuOpen:"<span /><span /><span />",meanRevealPosition:"right",meanRevealPositionDistance:"0",meanRevealColour:"",meanRevealHoverColour:"",meanScreenWidth:"480",meanNavPush:"",meanShowChildren:!0,meanExpandableChildren:!0,meanExpand:"+",meanContract:"-",meanRemoveAttrs:!1},n=e.extend(a,n);return currentWidth=window.innerWidth||document.documentElement.clientWidth,this.each(function(){function e(){if("center"==s){var e=window.innerWidth||document.documentElement.clientWidth,n=e/2-22+"px";meanRevealPos="left:"+n+";right:auto;",g?jQuery(".meanmenu-reveal").animate({left:n}):jQuery(".meanmenu-reveal").css("left",n)}}function a(){jQuery($navreveal).is(".meanmenu-reveal.meanclose")?$navreveal.html(m):$navreveal.html(o)}function t(){jQuery(".mean-bar,.mean-push").remove(),jQuery(u).removeClass("mean-container"),jQuery(i).show(),menuOn=!1,meanMenuExist=!1}function r(){if(h>=currentWidth){meanMenuExist=!0,jQuery(u).addClass("mean-container"),jQuery(".mean-container").prepend('<div class="mean-bar"><a href="#nav" class="meanmenu-reveal" style="'+meanStyles+'">Show Navigation</a><nav class="mean-nav" onClick="funtoScroll(this, event);"></nav></div>');var e=jQuery(i).html();jQuery(".mean-nav").html(e),f&&jQuery("nav.mean-nav *").each(function(){jQuery(this).removeAttr("class"),jQuery(this).removeAttr("id")}),jQuery(i).before('<div class="mean-push" />'),jQuery(".mean-push").css("margin-top",d),jQuery(i).hide(),jQuery(".meanmenu-reveal").show(),jQuery(y).html(o),$navreveal=jQuery(y),jQuery(".mean-nav ul").hide(),meanShowChildren?meanExpandableChildren?(jQuery(".mean-nav ul ul").each(function(){jQuery(this).children().length&&jQuery(this,"li:first").parent().append('<a class="mean-expand" href="#" style="font-size: '+l+'">'+j+"</a>")}),jQuery(".mean-expand").on("click",function(e){e.preventDefault(),jQuery(this).hasClass("mean-clicked")?(jQuery(this).text(j),jQuery(this).prev("ul").slideUp(300,function(){})):(jQuery(this).text(Q),jQuery(this).prev("ul").slideDown(300,function(){})),jQuery(this).toggleClass("mean-clicked")})):jQuery(".mean-nav ul ul").show():jQuery(".mean-nav ul ul").hide(),jQuery(".mean-nav ul li").last().addClass("mean-last"),$navreveal.removeClass("meanclose"),jQuery($navreveal).click(function(e){e.preventDefault(),0==menuOn?($navreveal.css("text-align","center"),$navreveal.css("text-indent","0"),$navreveal.css("font-size",l),jQuery(".mean-nav ul:first").slideDown(),menuOn=!0):(jQuery(".mean-nav ul:first").slideUp(),menuOn=!1),$navreveal.toggleClass("meanclose"),a()})}else t()}var i=n.meanMenuTarget,u=n.meanMenuContainer;n.meanReveal;var m=n.meanMenuClose,l=n.meanMenuCloseSize,o=n.meanMenuOpen,s=n.meanRevealPosition,v=n.meanRevealPositionDistance,c=n.meanRevealColour;n.meanRevealHoverColour;var h=n.meanScreenWidth,d=n.meanNavPush,y=".meanmenu-reveal";meanShowChildren=n.meanShowChildren,meanExpandableChildren=n.meanExpandableChildren;var j=n.meanExpand,Q=n.meanContract,f=n.meanRemoveAttrs;if(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/Blackberry/i)||navigator.userAgent.match(/Windows Phone/i))var g=!0;(navigator.userAgent.match(/MSIE 8/i)||navigator.userAgent.match(/MSIE 7/i))&&jQuery("html").css("overflow-y","scroll"),menuOn=!1,meanMenuExist=!1,"right"==s&&(meanRevealPos="right:"+v+";left:auto;"),"left"==s&&(meanRevealPos="left:"+v+";right:auto;"),e(),meanStyles="background:"+c+";color:"+c+";"+meanRevealPos,g||jQuery(window).resize(function(){currentWidth=window.innerWidth||document.documentElement.clientWidth,currentWidth>h?t():t(),h>=currentWidth?(r(),e()):t()}),window.onorientationchange=function(){e(),currentWidth=window.innerWidth||document.documentElement.clientWidth,currentWidth>=h&&t(),h>=currentWidth&&0==meanMenuExist&&r()},r()})}})(jQuery);

}

var $nicescroll = mytheme_urls.nicescroll;
var $stylepicker = mytheme_urls.stylepicker;
if($nicescroll == 'enable' || $stylepicker == 'enable') {
	
	//Nice Scroll
	jQuery.noConflict();
	(function(e){var t=false,n=false,r=5e3,i=2e3,s=function(){var e=document.getElementsByTagName("script"),e=e[e.length-1].src.split("?")[0];return e.split("/").length>0?e.split("/").slice(0,-1).join("/")+"/":""}(),o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||false,u=window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||false,f=false,l=function(){if(f)return f;var e=document.createElement("DIV"),t={haspointerlock:"pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document};t.isopera="opera"in window;t.isopera12=t.isopera&&"getUserMedia"in navigator;t.isie="all"in document&&"attachEvent"in e&&!t.isopera;t.isieold=t.isie&&!("msInterpolationMode"in e.style);t.isie7=t.isie&&!t.isieold&&(!("documentMode"in document)||document.documentMode==7);t.isie8=t.isie&&"documentMode"in document&&document.documentMode==8;t.isie9=t.isie&&"performance"in window&&document.documentMode>=9;t.isie10=t.isie&&"performance"in window&&document.documentMode>=10;t.isie9mobile=/iemobile.9/i.test(navigator.userAgent);if(t.isie9mobile)t.isie9=false;t.isie7mobile=!t.isie9mobile&&t.isie7&&/iemobile/i.test(navigator.userAgent);t.ismozilla="MozAppearance"in e.style;t.iswebkit="WebkitAppearance"in e.style;t.ischrome="chrome"in window;t.ischrome22=t.ischrome&&t.haspointerlock;t.cantouch="ontouchstart"in document.documentElement;t.hasmstouch=window.navigator.msPointerEnabled||false;t.ismac=/^mac$/i.test(navigator.platform);t.isios=t.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform);t.isios4=t.isios&&!("seal"in Object);t.isandroid=/android/i.test(navigator.userAgent);t.trstyle=false;t.hastransform=false;t.hastranslate3d=false;t.transitionstyle=false;t.hastransition=false;t.transitionend=false;for(var n=["transform","msTransform","webkitTransform","MozTransform","OTransform"],r=0;r<n.length;r++)if(typeof e.style[n[r]]!="undefined"){t.trstyle=n[r];break}t.hastransform=t.trstyle!=false;if(t.hastransform)e.style[t.trstyle]="translate3d(1px,2px,3px)",t.hastranslate3d=/translate3d/.test(e.style[t.trstyle]);t.transitionstyle=false;t.prefixstyle="";t.transitionend=false;for(var n="transition,webkitTransition,MozTransition,OTransition,OTransition,msTransition,KhtmlTransition".split(","),i=",-webkit-,-moz-,-o-,-o,-ms-,-khtml-".split(","),s="transitionend,webkitTransitionEnd,transitionend,otransitionend,oTransitionEnd,msTransitionEnd,KhtmlTransitionEnd".split(","),r=0;r<n.length;r++)if(n[r]in e.style){t.transitionstyle=n[r];t.prefixstyle=i[r];t.transitionend=s[r];break}t.hastransition=t.transitionstyle;e:{n=["-moz-grab","-webkit-grab","grab"];if(t.ischrome&&!t.ischrome22||t.isie)n=[];for(r=0;r<n.length;r++)if(i=n[r],e.style.cursor=i,e.style.cursor==i){n=i;break e}n="url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}t.cursorgrabvalue=n;t.hasmousecapture="setCapture"in e;return f=t},c=function(a,f){function c(e,t,n){t=e.css(t);e=parseFloat(t);return isNaN(e)?(e=y[t]||0,n=e==3?n?d.win.outerHeight()-d.win.innerHeight():d.win.outerWidth()-d.win.innerWidth():1,d.isie8&&e&&(e+=1),n?e:0):e}function p(e,t){var n=0,r=0;if("wheelDeltaY"in e)n=Math.floor(e.wheelDeltaX/2),r=Math.floor(e.wheelDeltaY/2);else{var i=e.detail?e.detail*-1:e.wheelDelta/40;i&&(t?n=Math.floor(i*d.opt.mousescrollstep):r=Math.floor(i*d.opt.mousescrollstep))}n&&(d.scrollmom&&d.scrollmom.stop(),d.lastdeltax+=n,d.synched("mousewheelx",function(){var e=d.lastdeltax;d.lastdeltax=0;d.rail.drag||d.doScrollLeftBy(e)}));r&&(d.scrollmom&&d.scrollmom.stop(),d.lastdeltay+=r,d.synched("mousewheely",function(){var e=d.lastdeltay;d.lastdeltay=0;d.rail.drag||d.doScrollBy(e)}))}var d=this;this.version="3.0.0";this.name="nicescroll";this.me=f;this.opt={doc:e("body"),win:false,zindex:9e3,cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:false,hwacceleration:true,usetransition:true,boxzoom:false,dblclickzoom:true,gesturezoom:true,grabcursorenabled:true,autohidemode:true,background:"",iframeautoresize:true,cursorminheight:32,preservenativescrolling:true,railoffset:false,bouncescroll:true,spacebarenabled:true,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:true,horizrailenabled:true,railalign:"right",railvalign:"bottom",enabletranslate3d:true,enablemousewheel:true,enablekeyboard:true,smoothscroll:true,sensitiverail:true};this.opt.snapbackspeed=80;if(a)for(var v in d.opt)typeof a[v]!="undefined"&&(d.opt[v]=a[v]);this.iddoc=(this.doc=d.opt.doc)&&this.doc[0]?this.doc[0].id||"":"";this.ispage=/BODY|HTML/.test(d.opt.win?d.opt.win[0].nodeName:this.doc[0].nodeName);this.haswrapper=d.opt.win!==false;this.win=d.opt.win||(this.ispage?e(window):this.doc);this.docscroll=this.ispage&&!this.haswrapper?e(window):this.win;this.body=e("body");this.iframe=this.isfixed=false;this.isiframe=this.doc[0].nodeName=="IFRAME"&&this.win[0].nodeName=="IFRAME";this.istextarea=this.win[0].nodeName=="TEXTAREA";this.forcescreen=false;this.canshowonmouseevent=d.opt.autohidemode!="scroll";this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=false;this.scroll={x:0,y:0};this.scrollratio={x:0,y:0};this.cursorheight=20;this.scrollvaluemax=0;this.observer=this.scrollmom=this.scrollrunning=false;do this.id="ascrail"+i++;while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.cursorfreezed=this.cursor=this.rail=false;this.visibility=true;this.hidden=this.locked=false;this.cursoractive=true;this.nativescrollingarea=false;this.events=[];this.saved={};this.delaylist={};this.synclist={};this.lastdeltay=this.lastdeltax=0;var m=this.detected=l();this.ishwscroll=(this.canhwscroll=m.hastransform&&d.opt.hwacceleration)&&d.haswrapper;this.istouchcapable=false;if(m.cantouch&&m.ischrome&&!m.isios&&!m.isandroid)this.istouchcapable=true,m.cantouch=false;if(m.cantouch&&m.ismozilla&&!m.isios)this.istouchcapable=true,m.cantouch=false;this.delayed=function(e,t,n,r){var i=d.delaylist[e],s=(new Date).getTime();if(!r&&i&&i.tt)return false;i&&i.tt&&clearTimeout(i.tt);if(i&&i.last+n>s&&!i.tt)d.delaylist[e]={last:s+n,tt:setTimeout(function(){d.delaylist[e].tt=0;t.call()},n)};else if(!i||!i.tt)d.delaylist[e]={last:s,tt:0},setTimeout(function(){t.call()},0)};this.synched=function(e,t){d.synclist[e]=t;(function(){if(!d.onsync)o(function(){d.onsync=false;for(e in d.synclist){var t=d.synclist[e];t&&t.call(d);d.synclist[e]=false}}),d.onsync=true})();return e};this.unsynched=function(e){d.synclist[e]&&(d.synclist[e]=false)};this.css=function(e,t){for(var n in t)d.saved.css.push([e,n,e.css(n)]),e.css(n,t[n])};this.scrollTop=function(e){return typeof e=="undefined"?d.getScrollTop():d.setScrollTop(e)};this.scrollLeft=function(e){return typeof e=="undefined"?d.getScrollLeft():d.setScrollLeft(e)};BezierClass=function(e,t,n,r,i,s,o){this.st=e;this.ed=t;this.spd=n;this.p1=r||0;this.p2=i||1;this.p3=s||0;this.p4=o||1;this.ts=(new Date).getTime();this.df=this.ed-this.st};BezierClass.prototype={B2:function(e){return 3*e*e*(1-e)},B3:function(e){return 3*e*(1-e)*(1-e)},B4:function(e){return(1-e)*(1-e)*(1-e)},getNow:function(){var e=1-((new Date).getTime()-this.ts)/this.spd,t=this.B2(e)+this.B3(e)+this.B4(e);return e<0?this.ed:this.st+Math.round(this.df*t)},update:function(e,t){this.st=this.getNow();this.ed=e;this.spd=t;this.ts=(new Date).getTime();this.df=this.ed-this.st;return this}};if(this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"};m.hastranslate3d&&m.isios&&this.doc.css("-webkit-backface-visibility","hidden");var g=function(){var e=d.doc.css(m.trstyle);return e&&e.substr(0,6)=="matrix"?e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):false};this.getScrollTop=function(e){if(!e){if(e=g())return e.length==16?-e[13]:-e[5];if(d.timerscroll&&d.timerscroll.bz)return d.timerscroll.bz.getNow()}return d.doc.translate.y};this.getScrollLeft=function(e){if(!e){if(e=g())return e.length==16?-e[12]:-e[4];if(d.timerscroll&&d.timerscroll.bh)return d.timerscroll.bh.getNow()}return d.doc.translate.x};this.notifyScrollEvent=document.createEvent?function(e){var t=document.createEvent("UIEvents");t.initUIEvent("scroll",false,true,window,1);e.dispatchEvent(t)}:document.fireEvent?function(e){var t=document.createEventObject();e.fireEvent("onscroll");t.cancelBubble=true}:function(){};m.hastranslate3d&&d.opt.enabletranslate3d?(this.setScrollTop=function(e,t){d.doc.translate.y=e;d.doc.translate.ty=e*-1+"px";d.doc.css(m.trstyle,"translate3d("+d.doc.translate.tx+","+d.doc.translate.ty+",0px)");t||d.notifyScrollEvent(d.win[0])},this.setScrollLeft=function(e,t){d.doc.translate.x=e;d.doc.translate.tx=e*-1+"px";d.doc.css(m.trstyle,"translate3d("+d.doc.translate.tx+","+d.doc.translate.ty+",0px)");t||d.notifyScrollEvent(d.win[0])}):(this.setScrollTop=function(e,t){d.doc.translate.y=e;d.doc.translate.ty=e*-1+"px";d.doc.css(m.trstyle,"translate("+d.doc.translate.tx+","+d.doc.translate.ty+")");t||d.notifyScrollEvent(d.win[0])},this.setScrollLeft=function(e,t){d.doc.translate.x=e;d.doc.translate.tx=e*-1+"px";d.doc.css(m.trstyle,"translate("+d.doc.translate.tx+","+d.doc.translate.ty+")");t||d.notifyScrollEvent(d.win[0])})}else this.getScrollTop=function(){return d.docscroll.scrollTop()},this.setScrollTop=function(e){return d.docscroll.scrollTop(e)},this.getScrollLeft=function(){return d.docscroll.scrollLeft()},this.setScrollLeft=function(e){return d.docscroll.scrollLeft(e)};this.getTarget=function(e){return!e?false:e.target?e.target:e.srcElement?e.srcElement:false};this.hasParent=function(e,t){if(!e)return false;for(var n=e.target||e.srcElement||e||false;n&&n.id!=t;)n=n.parentNode||false;return n!==false};var y={thin:1,medium:3,thick:5};this.updateScrollBar=function(e){if(d.ishwscroll)d.rail.css({height:d.win.innerHeight()}),d.railh&&d.railh.css({width:d.win.innerWidth()});else{var t=d.isfixed?{top:parseFloat(d.win.css("top")),left:parseFloat(d.win.css("left"))}:d.win.offset(),n=t.top,r=t.left;n+=c(d.win,"border-top-width",true);d.win.outerWidth();d.win.innerWidth();r+=d.rail.align?d.win.outerWidth()-c(d.win,"border-right-width")-d.rail.width:c(d.win,"border-left-width");var i=d.opt.railoffset;i&&(i.top&&(n+=i.top),d.rail.align&&i.left&&(r+=i.left));d.locked||d.rail.css({top:n,left:r,height:e?e.h:d.win.innerHeight()});d.zoom&&d.zoom.css({top:n+1,left:d.rail.align==1?r-20:r+d.rail.width+4});if(d.railh&&!d.locked)n=t.top,r=t.left,e=d.railh.align?n+c(d.win,"border-top-width",true)+d.win.innerHeight()-d.railh.height:n+c(d.win,"border-top-width",true),r+=c(d.win,"border-left-width"),d.railh.css({top:e,left:r,width:d.railh.width})}};this.doRailClick=function(e,t,n){var r;!(d.rail.drag&&d.rail.drag.pt!=1)&&!d.locked&&!d.rail.drag&&(d.cancelScroll(),d.cancelEvent(e),t?(t=n?d.doScrollLeft:d.doScrollTop,r=n?(e.pageX-d.railh.offset().left-d.cursorwidth/2)*d.scrollratio.x:(e.pageY-d.rail.offset().top-d.cursorheight/2)*d.scrollratio.y,t(r)):(t=n?d.doScrollLeftBy:d.doScrollBy,r=n?d.scroll.x:d.scroll.y,e=n?e.pageX-d.railh.offset().left:e.pageY-d.rail.offset().top,n=n?d.view.w:d.view.h,r>=e?t(n):t(-n)))};d.hasanimationframe=o;d.hascancelanimationframe=u;d.hasanimationframe?d.hascancelanimationframe||(u=function(){d.cancelAnimationFrame=true}):(o=function(e){return setTimeout(e,16)},u=clearInterval);this.init=function(){d.saved.css=[];if(m.isie7mobile)return true;m.hasmstouch&&d.css(d.ispage?e("html"):d.win,{"-ms-touch-action":"none"});if(!d.ispage||!m.cantouch&&!m.isieold&&!m.isie9mobile){var i=d.docscroll;d.ispage&&(i=d.haswrapper?d.win:d.doc);m.isie9mobile||d.css(i,{"overflow-y":"hidden"});d.ispage&&m.isie7&&(d.doc[0].nodeName=="BODY"?d.css(e("html"),{"overflow-y":"hidden"}):d.doc[0].nodeName=="HTML"&&d.css(e("body"),{"overflow-y":"hidden"}));m.isios&&!d.ispage&&!d.haswrapper&&d.css(e("body"),{"-webkit-overflow-scrolling":"touch"});var o=e(document.createElement("div"));o.css({position:"relative",top:0,"float":"right",width:d.opt.cursorwidth,height:"0px","background-color":d.opt.cursorcolor,border:d.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":d.opt.cursorborderradius,"-moz-border-radius":d.opt.cursorborderradius,"border-radius":d.opt.cursorborderradius});o.hborder=parseFloat(o.outerHeight()-o.innerHeight());d.cursor=o;var u=e(document.createElement("div"));u.attr("id",d.id);var a,f,l=["left","right"],c;for(c in l)f=l[c],(a=d.opt.railpadding[f])?u.css("padding-"+f,a+"px"):d.opt.railpadding[f]=0;u.append(o);u.width=Math.max(parseFloat(d.opt.cursorwidth),o.outerWidth())+d.opt.railpadding.left+d.opt.railpadding.right;u.css({width:u.width+"px",zIndex:d.ispage?d.opt.zindex:d.opt.zindex+2,background:d.opt.background});u.visibility=true;u.scrollable=true;u.align=d.opt.railalign=="left"?0:1;d.rail=u;o=d.rail.drag=false;if(d.opt.boxzoom&&!d.ispage&&!m.isieold&&(o=document.createElement("div"),d.bind(o,"click",d.doZoom),d.zoom=e(o),d.zoom.css({cursor:"pointer","z-index":d.opt.zindex,backgroundImage:"url("+s+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),d.opt.dblclickzoom&&d.bind(d.win,"dblclick",d.doZoom),m.cantouch&&d.opt.gesturezoom))d.ongesturezoom=function(e){e.scale>1.5&&d.doZoomIn(e);e.scale<.8&&d.doZoomOut(e);return d.cancelEvent(e)},d.bind(d.win,"gestureend",d.ongesturezoom);d.railh=false;if(d.opt.horizrailenabled){d.css(i,{"overflow-x":"hidden"});o=e(document.createElement("div"));o.css({position:"relative",top:0,height:d.opt.cursorwidth,width:"0px","background-color":d.opt.cursorcolor,border:d.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":d.opt.cursorborderradius,"-moz-border-radius":d.opt.cursorborderradius,"border-radius":d.opt.cursorborderradius});o.wborder=parseFloat(o.outerWidth()-o.innerWidth());d.cursorh=o;var p=e(document.createElement("div"));p.attr("id",d.id+"-hr");p.height=1+Math.max(parseFloat(d.opt.cursorwidth),o.outerHeight());p.css({height:p.height+"px",zIndex:d.ispage?d.opt.zindex:d.opt.zindex+2,background:d.opt.background});p.append(o);p.visibility=true;p.scrollable=true;p.align=d.opt.railvalign=="top"?0:1;d.railh=p;d.railh.drag=false}d.ispage?(u.css({position:"fixed",top:"0px",height:"100%"}),u.align?u.css({right:"0px"}):u.css({left:"0px"}),d.body.append(u),d.railh&&(p.css({position:"fixed",left:"0px",width:"100%"}),p.align?p.css({bottom:"0px"}):p.css({top:"0px"}),d.body.append(p))):(d.ishwscroll?(d.win.css("position")=="static"&&d.css(d.win,{position:"relative"}),i=d.win[0].nodeName=="HTML"?d.body:d.win,d.zoom&&(d.zoom.css({position:"absolute",top:1,right:0,"margin-right":u.width+4}),i.append(d.zoom)),u.css({position:"absolute",top:0}),u.align?u.css({right:0}):u.css({left:0}),i.append(u),p&&(p.css({position:"absolute",left:0,bottom:0}),p.align?p.css({bottom:0}):p.css({top:0}),i.append(p))):(d.isfixed=d.win.css("position")=="fixed",i=d.isfixed?"fixed":"absolute",u.css({position:i}),d.zoom&&d.zoom.css({position:i}),d.updateScrollBar(),d.body.append(u),d.zoom&&d.body.append(d.zoom),d.railh&&(p.css({position:i}),d.body.append(p))),m.isios&&d.css(d.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),m.isie&&d.opt.disableoutline&&d.win.attr("hideFocus","true"),m.iswebkit&&d.opt.disableoutline&&d.win.css({outline:"none"}));if(d.opt.autohidemode===false)d.autohidedom=false;else if(d.opt.autohidemode===true){if(d.autohidedom=e().add(d.rail),d.railh)d.autohidedom=d.autohidedom.add(d.railh)}else if(d.opt.autohidemode=="scroll"){if(d.autohidedom=e().add(d.rail),d.railh)d.autohidedom=d.autohidedom.add(d.railh)}else if(d.opt.autohidemode=="cursor"){if(d.autohidedom=e().add(d.cursor),d.railh)d.autohidedom=d.autohidedom.add(d.railh.cursor)}else if(d.opt.autohidemode=="hidden")d.autohidedom=false,d.hide(),d.locked=false;if(m.isie9mobile)d.scrollmom=new h(d),d.onmangotouch=function(){var e=d.getScrollTop(),t=d.getScrollLeft();if(e==d.scrollmom.lastscrolly&&t==d.scrollmom.lastscrollx)return true;var n=e-d.mangotouch.sy,r=t-d.mangotouch.sx;if(Math.round(Math.sqrt(Math.pow(r,2)+Math.pow(n,2)))!=0){var i=n<0?-1:1,s=r<0?-1:1,o=+(new Date);d.mangotouch.lazy&&clearTimeout(d.mangotouch.lazy);if(o-d.mangotouch.tm>80||d.mangotouch.dry!=i||d.mangotouch.drx!=s)d.scrollmom.stop(),d.scrollmom.reset(t,e),d.mangotouch.sy=e,d.mangotouch.ly=e,d.mangotouch.sx=t,d.mangotouch.lx=t,d.mangotouch.dry=i,d.mangotouch.drx=s,d.mangotouch.tm=o;else if(d.scrollmom.stop(),d.scrollmom.update(d.mangotouch.sx-r,d.mangotouch.sy-n),d.mangotouch.tm=o,n=Math.max(Math.abs(d.mangotouch.ly-e),Math.abs(d.mangotouch.lx-t)),d.mangotouch.ly=e,d.mangotouch.lx=t,n>2)d.mangotouch.lazy=setTimeout(function(){d.mangotouch.lazy=false;d.mangotouch.dry=0;d.mangotouch.drx=0;d.mangotouch.tm=0;d.scrollmom.doMomentum(30)},100)}},u=d.getScrollTop(),p=d.getScrollLeft(),d.mangotouch={sy:u,ly:u,dry:0,sx:p,lx:p,drx:0,lazy:false,tm:0},d.bind(d.docscroll,"scroll",d.onmangotouch);else{if(m.cantouch||d.istouchcapable||d.opt.touchbehavior||m.hasmstouch){d.scrollmom=new h(d);d.ontouchstart=function(t){if(t.pointerType&&t.pointerType!=2)return false;if(!d.locked){if(m.hasmstouch)for(var n=t.target?t.target:false;n;){var r=e(n).getNiceScroll();if(r.length>0&&r[0].me==d.me)break;if(r.length>0)return false;if(n.nodeName=="DIV"&&n.id==d.id)break;n=n.parentNode?n.parentNode:false}d.cancelScroll();if((n=d.getTarget(t))&&/INPUT/i.test(n.nodeName)&&/range/i.test(n.type))return d.stopPropagation(t);if(d.forcescreen)r=t,t={original:t.original?t.original:t},t.clientX=r.screenX,t.clientY=r.screenY;d.rail.drag={x:t.clientX,y:t.clientY,sx:d.scroll.x,sy:d.scroll.y,st:d.getScrollTop(),sl:d.getScrollLeft(),pt:2};d.opt.touchbehavior&&d.isiframe&&m.isie&&(r=d.win.position(),d.rail.drag.x+=r.left,d.rail.drag.y+=r.top);d.hasmoving=false;d.lastmouseup=false;d.scrollmom.reset(t.clientX,t.clientY);if(!m.cantouch&&!this.istouchcapable&&!m.hasmstouch){if(!n||!/INPUT|SELECT|TEXTAREA/i.test(n.nodeName))return!d.ispage&&m.hasmousecapture&&n.setCapture(),d.cancelEvent(t);if(/SUBMIT|CANCEL|BUTTON/i.test(e(n).attr("type")))pc={tg:n,click:false},d.preventclick=pc}}};d.ontouchend=function(e){if(e.pointerType&&e.pointerType!=2)return false;if(d.rail.drag&&d.rail.drag.pt==2&&(d.scrollmom.doMomentum(),d.rail.drag=false,d.hasmoving&&(d.hasmoving=false,d.lastmouseup=true,d.hideCursor(),m.hasmousecapture&&document.releaseCapture(),!m.cantouch)))return d.cancelEvent(e)};var v=d.opt.touchbehavior&&d.isiframe&&!m.hasmousecapture;d.ontouchmove=function(e,t){if(e.pointerType&&e.pointerType!=2)return false;if(d.rail.drag&&d.rail.drag.pt==2){if(m.cantouch&&typeof e.original=="undefined")return true;d.hasmoving=true;if(d.preventclick&&!d.preventclick.click)d.preventclick.click=d.preventclick.tg.onclick||false,d.preventclick.tg.onclick=d.onpreventclick;if(d.forcescreen){var n=e,e={original:e.original?e.original:e};e.clientX=n.screenX;e.clientY=n.screenY}n=ofy=0;if(v&&!t){var r=d.win.position(),n=-r.left;ofy=-r.top}var i=e.clientY+ofy,s=d.rail.drag.st-(i-d.rail.drag.y);if(d.ishwscroll&&d.opt.bouncescroll)s<0?s=Math.round(s/2):s>d.page.maxh&&(s=d.page.maxh+Math.round((s-d.page.maxh)/2));else if(s<0&&(i=s=0),s>d.page.maxh)s=d.page.maxh,i=0;var o=e.clientX+n;if(d.railh&&d.railh.scrollable){var u=d.rail.drag.sl-(o-d.rail.drag.x);if(d.ishwscroll&&d.opt.bouncescroll)u<0?u=Math.round(u/2):u>d.page.maxw&&(u=d.page.maxw+Math.round((u-d.page.maxw)/2));else if(u<0&&(o=u=0),u>d.page.maxw)u=d.page.maxw,o=0}d.synched("touchmove",function(){d.rail.drag&&d.rail.drag.pt==2&&(d.prepareTransition&&d.prepareTransition(0),d.rail.scrollable&&d.setScrollTop(s),d.scrollmom.update(o,i),d.railh&&d.railh.scrollable?(d.setScrollLeft(u),d.showCursor(s,u)):d.showCursor(s),m.isie10&&document.selection.clear())});return d.cancelEvent(e)}}}m.cantouch||d.opt.touchbehavior?(d.onpreventclick=function(e){if(d.preventclick)return d.preventclick.tg.onclick=d.preventclick.click,d.preventclick=false,d.cancelEvent(e)},d.onmousedown=d.ontouchstart,d.onmouseup=d.ontouchend,d.onclick=m.isios?false:function(e){return d.lastmouseup?(d.lastmouseup=false,d.cancelEvent(e)):true},d.onmousemove=d.ontouchmove,m.cursorgrabvalue&&(d.css(d.ispage?d.doc:d.win,{cursor:m.cursorgrabvalue}),d.css(d.rail,{cursor:m.cursorgrabvalue}))):(d.onmousedown=function(e,t){if(!(d.rail.drag&&d.rail.drag.pt!=1)){if(d.locked)return d.cancelEvent(e);d.cancelScroll();d.rail.drag={x:e.clientX,y:e.clientY,sx:d.scroll.x,sy:d.scroll.y,pt:1,hr:!!t};var n=d.getTarget(e);!d.ispage&&m.hasmousecapture&&n.setCapture();if(d.isiframe&&!m.hasmousecapture)d.saved.csspointerevents=d.doc.css("pointer-events"),d.css(d.doc,{"pointer-events":"none"});return d.cancelEvent(e)}},d.onmouseup=function(e){if(d.rail.drag&&(m.hasmousecapture&&document.releaseCapture(),d.isiframe&&!m.hasmousecapture&&d.doc.css("pointer-events",d.saved.csspointerevents),d.rail.drag.pt==1))return d.rail.drag=false,d.cancelEvent(e)},d.onmousemove=function(e){if(d.rail.drag){if(d.rail.drag.pt==1){if(m.ischrome&&e.which==0)return d.onmouseup(e);d.cursorfreezed=true;if(d.rail.drag.hr){d.scroll.x=d.rail.drag.sx+(e.clientX-d.rail.drag.x);if(d.scroll.x<0)d.scroll.x=0;var t=d.scrollvaluemaxw;if(d.scroll.x>t)d.scroll.x=t}else{d.scroll.y=d.rail.drag.sy+(e.clientY-d.rail.drag.y);if(d.scroll.y<0)d.scroll.y=0;t=d.scrollvaluemax;if(d.scroll.y>t)d.scroll.y=t}d.synched("mousemove",function(){d.rail.drag&&d.rail.drag.pt==1&&(d.showCursor(),d.rail.drag.hr?d.doScrollLeft(Math.round(d.scroll.x*d.scrollratio.x)):d.doScrollTop(Math.round(d.scroll.y*d.scrollratio.y)))});return d.cancelEvent(e)}}else d.checkarea=true});(m.cantouch||d.opt.touchbehavior)&&d.bind(d.win,"mousedown",d.onmousedown);m.hasmstouch&&(d.css(d.rail,{"-ms-touch-action":"none"}),d.css(d.cursor,{"-ms-touch-action":"none"}),d.bind(d.win,"MSPointerDown",d.ontouchstart),d.bind(document,"MSPointerUp",d.ontouchend),d.bind(document,"MSPointerMove",d.ontouchmove),d.bind(d.cursor,"MSGestureHold",function(e){e.preventDefault()}),d.bind(d.cursor,"contextmenu",function(e){e.preventDefault()}));this.istouchcapable&&(d.bind(d.win,"touchstart",d.ontouchstart),d.bind(document,"touchend",d.ontouchend),d.bind(document,"touchmove",d.ontouchmove));d.bind(d.cursor,"mousedown",d.onmousedown);d.bind(d.cursor,"mouseup",d.onmouseup);d.railh&&(d.bind(d.cursorh,"mousedown",function(e){d.onmousedown(e,true)}),d.bind(d.cursorh,"mouseup",function(e){if(!(d.rail.drag&&d.rail.drag.pt==2))return d.rail.drag=false,d.hasmoving=false,d.hideCursor(),m.hasmousecapture&&document.releaseCapture(),d.cancelEvent(e)}));d.bind(document,"mouseup",d.onmouseup);m.hasmousecapture&&d.bind(d.win,"mouseup",d.onmouseup);d.bind(document,"mousemove",d.onmousemove);d.onclick&&d.bind(document,"click",d.onclick);!m.cantouch&&!d.opt.touchbehavior&&(d.rail.mouseenter(function(){d.canshowonmouseevent&&d.showCursor();d.rail.active=true}),d.rail.mouseleave(function(){d.rail.active=false;d.rail.drag||d.hideCursor()}),d.opt.sensitiverail&&(d.rail.click(function(e){d.doRailClick(e,false,false)}),d.rail.dblclick(function(e){d.doRailClick(e,true,false)}),d.cursor.click(function(e){d.cancelEvent(e)}),d.cursor.dblclick(function(e){d.cancelEvent(e)})),d.railh&&(d.railh.mouseenter(function(){d.canshowonmouseevent&&d.showCursor();d.rail.active=true}),d.railh.mouseleave(function(){d.rail.active=false;d.rail.drag||d.hideCursor()})),d.zoom&&(d.zoom.mouseenter(function(){d.canshowonmouseevent&&d.showCursor();d.rail.active=true}),d.zoom.mouseleave(function(){d.rail.active=false;d.rail.drag||d.hideCursor()})));d.opt.enablemousewheel&&(d.isiframe||d.bind(m.isie&&d.ispage?document:d.docscroll,"mousewheel",d.onmousewheel),d.bind(d.rail,"mousewheel",d.onmousewheel),d.railh&&d.bind(d.railh,"mousewheel",d.onmousewheelhr));!d.ispage&&!m.cantouch&&!/HTML|BODY/.test(d.win[0].nodeName)&&(d.win.attr("tabindex")||d.win.attr({tabindex:r++}),d.win.focus(function(e){t=d.getTarget(e).id||true;d.hasfocus=true;d.canshowonmouseevent&&d.noticeCursor()}),d.win.blur(function(){t=false;d.hasfocus=false}),d.win.mouseenter(function(e){n=d.getTarget(e).id||true;d.hasmousefocus=true;d.canshowonmouseevent&&d.noticeCursor()}),d.win.mouseleave(function(){n=false;d.hasmousefocus=false}))}d.onkeypress=function(e){if(d.locked&&d.page.maxh==0)return true;var e=e?e:window.e,r=d.getTarget(e);if(r&&/INPUT|TEXTAREA|SELECT|OPTION/.test(r.nodeName)&&(!r.getAttribute("type")&&!r.type||!/submit|button|cancel/i.tp))return true;if(d.hasfocus||d.hasmousefocus&&!t||d.ispage&&!t&&!n){var r=e.keyCode,i=e.ctrlKey||false;if(d.locked&&r!=27)return d.cancelEvent(e);var s=false;switch(r){case 38:case 63233:d.doScrollBy(72);s=true;break;case 40:case 63235:d.doScrollBy(-72);s=true;break;case 37:case 63232:d.railh&&(i?d.doScrollLeft(0):d.doScrollLeftBy(72),s=true);break;case 39:case 63234:d.railh&&(i?d.doScrollLeft(d.page.maxw):d.doScrollLeftBy(-72),s=true);break;case 33:case 63276:d.doScrollBy(d.view.h);s=true;break;case 34:case 63277:d.doScrollBy(-d.view.h);s=true;break;case 36:case 63273:d.railh&&i?d.doScrollPos(0,0):d.doScrollTo(0);s=true;break;case 35:case 63275:d.railh&&i?d.doScrollPos(d.page.maxw,d.page.maxh):d.doScrollTo(d.page.maxh);s=true;break;case 32:d.opt.spacebarenabled&&(d.doScrollBy(-d.view.h),s=true);break;case 27:d.zoomactive&&(d.doZoom(),s=true)}if(s)return d.cancelEvent(e)}};d.opt.enablekeyboard&&d.bind(document,m.isopera&&!m.isopera12?"keypress":"keydown",d.onkeypress);d.bind(window,"resize",d.resize);d.bind(window,"orientationchange",d.resize);d.bind(window,"load",d.resize);if(m.ischrome&&!d.ispage&&!d.haswrapper){var g=d.win.attr("style"),u=parseFloat(d.win.css("width"))+1;d.win.css("width",u);d.synched("chromefix",function(){d.win.attr("style",g)})}d.onAttributeChange=function(){d.lazyResize()};if(!d.ispage&&!d.haswrapper)"WebKitMutationObserver"in window?(d.observer=new WebKitMutationObserver(function(e){e.forEach(d.onAttributeChange)}),d.observer.observe(d.win[0],{attributes:true,subtree:false})):(d.bind(d.win,m.isie&&!m.isie9?"propertychange":"DOMAttrModified",d.onAttributeChange),m.isie9&&d.win[0].attachEvent("onpropertychange",d.onAttributeChange));!d.ispage&&d.opt.boxzoom&&d.bind(window,"resize",d.resizeZoom);d.istextarea&&d.bind(d.win,"mouseup",d.resize);d.resize()}if(this.doc[0].nodeName=="IFRAME"){var y=function(){d.iframexd=false;try{var t="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(n){d.iframexd=true,t=false}if(d.iframexd)return"console"in window&&console.log("NiceScroll error: policy restriced iframe"),true;d.forcescreen=true;if(d.isiframe)d.iframe={doc:e(t),html:d.doc.contents().find("html")[0],body:d.doc.contents().find("body")[0]},d.getContentSize=function(){return{w:Math.max(d.iframe.html.scrollWidth,d.iframe.body.scrollWidth),h:Math.max(d.iframe.html.scrollHeight,d.iframe.body.scrollHeight)}},d.docscroll=e(d.iframe.body);if(!m.isios&&d.opt.iframeautoresize&&!d.isiframe){d.win.scrollTop(0);d.doc.height("");var r=Math.max(t.getElementsByTagName("html")[0].scrollHeight,t.body.scrollHeight);d.doc.height(r)}d.resize();m.isie7&&d.css(e(d.iframe.html),{"overflow-y":"hidden"});d.css(e(d.iframe.body),{"overflow-y":"hidden"});"contentWindow"in this?d.bind(this.contentWindow,"scroll",d.onscroll):d.bind(t,"scroll",d.onscroll);d.opt.enablemousewheel&&d.bind(t,"mousewheel",d.onmousewheel);d.opt.enablekeyboard&&d.bind(t,m.isopera?"keypress":"keydown",d.onkeypress);if(m.cantouch||d.opt.touchbehavior)d.bind(t,"mousedown",d.onmousedown),d.bind(t,"mousemove",function(e){d.onmousemove(e,true)}),m.cursorgrabvalue&&d.css(e(t.body),{cursor:m.cursorgrabvalue});d.bind(t,"mouseup",d.onmouseup);d.zoom&&(d.opt.dblclickzoom&&d.bind(t,"dblclick",d.doZoom),d.ongesturezoom&&d.bind(t,"gestureend",d.ongesturezoom))};this.doc[0].readyState&&this.doc[0].readyState=="complete"&&setTimeout(function(){y.call(d.doc[0],false)},500);d.bind(this.doc,"load",y)}};this.showCursor=function(e,t){if(d.cursortimeout)clearTimeout(d.cursortimeout),d.cursortimeout=0;if(d.rail){if(d.autohidedom)d.autohidedom.stop().css({opacity:d.opt.cursoropacitymax}),d.cursoractive=true;if(typeof e!="undefined"&&e!==false)d.scroll.y=Math.round(e*1/d.scrollratio.y);if(typeof t!="undefined")d.scroll.x=Math.round(t*1/d.scrollratio.x);d.cursor.css({height:d.cursorheight,top:d.scroll.y});if(d.cursorh)!d.rail.align&&d.rail.visibility?d.cursorh.css({width:d.cursorwidth,left:d.scroll.x+d.rail.width}):d.cursorh.css({width:d.cursorwidth,left:d.scroll.x}),d.cursoractive=true;d.zoom&&d.zoom.stop().css({opacity:d.opt.cursoropacitymax})}};this.hideCursor=function(e){if(!d.cursortimeout&&d.rail&&d.autohidedom)d.cursortimeout=setTimeout(function(){if(!d.rail.active||!d.showonmouseevent)d.autohidedom.stop().animate({opacity:d.opt.cursoropacitymin}),d.zoom&&d.zoom.stop().animate({opacity:d.opt.cursoropacitymin}),d.cursoractive=false;d.cursortimeout=0},e||400)};this.noticeCursor=function(e,t,n){d.showCursor(t,n);d.rail.active||d.hideCursor(e)};this.getContentSize=d.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:d.haswrapper?function(){return{w:d.doc.outerWidth()+parseInt(d.win.css("paddingLeft"))+parseInt(d.win.css("paddingRight")),h:d.doc.outerHeight()+parseInt(d.win.css("paddingTop"))+parseInt(d.win.css("paddingBottom"))}}:function(){return{w:d.docscroll[0].scrollWidth,h:d.docscroll[0].scrollHeight}};this.onResize=function(e,t){if(!d.win)return false;if(!d.haswrapper&&!d.ispage)if(d.win.css("display")=="none")return d.visibility&&d.hideRail().hideRailHr(),false;else!d.hidden&&!d.visibility&&d.showRail().showRailHr();var n=d.page.maxh,r=d.page.maxw,i=d.view.w;d.view={w:d.ispage?d.win.width():parseInt(d.win[0].clientWidth),h:d.ispage?d.win.height():parseInt(d.win[0].clientHeight)};d.page=t?t:d.getContentSize();d.page.maxh=Math.max(0,d.page.h-d.view.h);d.page.maxw=Math.max(0,d.page.w-d.view.w);if(d.page.maxh==n&&d.page.maxw==r&&d.view.w==i)if(d.ispage)return d;else{n=d.win.offset();if(d.lastposition&&(r=d.lastposition,r.top==n.top&&r.left==n.left))return d;d.lastposition=n}d.page.maxh==0?(d.hideRail(),d.scrollvaluemax=0,d.scroll.y=0,d.scrollratio.y=0,d.cursorheight=0,d.setScrollTop(0),d.rail.scrollable=false):d.rail.scrollable=true;d.page.maxw==0?(d.hideRailHr(),d.scrollvaluemaxw=0,d.scroll.x=0,d.scrollratio.x=0,d.cursorwidth=0,d.setScrollLeft(0),d.railh.scrollable=false):d.railh.scrollable=true;d.locked=d.page.maxh==0&&d.page.maxw==0;if(d.locked)return d.ispage||d.updateScrollBar(d.view),false;!d.hidden&&!d.visibility?d.showRail().showRailHr():!d.hidden&&!d.railh.visibility&&d.showRailHr();d.istextarea&&d.win.css("resize")&&d.win.css("resize")!="none"&&(d.view.h-=20);d.ispage||d.updateScrollBar(d.view);d.cursorheight=Math.min(d.view.h,Math.round(d.view.h*(d.view.h/d.page.h)));d.cursorheight=Math.max(d.opt.cursorminheight,d.cursorheight);d.cursorwidth=Math.min(d.view.w,Math.round(d.view.w*(d.view.w/d.page.w)));d.cursorwidth=Math.max(d.opt.cursorminheight,d.cursorwidth);d.scrollvaluemax=d.view.h-d.cursorheight-d.cursor.hborder;if(d.railh)d.railh.width=d.page.maxh>0?d.view.w-d.rail.width:d.view.w,d.scrollvaluemaxw=d.railh.width-d.cursorwidth-d.cursorh.wborder;d.scrollratio={x:d.page.maxw/d.scrollvaluemaxw,y:d.page.maxh/d.scrollvaluemax};d.getScrollTop()>d.page.maxh?d.doScroll(d.page.maxh):(d.scroll.y=Math.round(d.getScrollTop()*(1/d.scrollratio.y)),d.scroll.x=Math.round(d.getScrollLeft()*(1/d.scrollratio.x)),d.cursoractive&&d.noticeCursor());d.scroll.y&&d.getScrollTop()==0&&d.doScrollTo(Math.floor(d.scroll.y*d.scrollratio.y));return d};this.resize=function(){d.delayed("resize",d.onResize,30);return d};this.lazyResize=function(){d.delayed("resize",d.resize,250)};this._bind=function(e,t,n,r){d.events.push({e:e,n:t,f:n,b:r});e.addEventListener?e.addEventListener(t,n,r||false):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n};this.bind=function(e,t,n,r){var i="jquery"in e?e[0]:e;i.addEventListener?(m.cantouch&&/mouseup|mousedown|mousemove/.test(t)&&d._bind(i,t=="mousedown"?"touchstart":t=="mouseup"?"touchend":"touchmove",function(e){if(e.touches){if(e.touches.length<2){var t=e.touches.length?e.touches[0]:e;t.original=e;n.call(this,t)}}else if(e.changedTouches)t=e.changedTouches[0],t.original=e,n.call(this,t)},r||false),d._bind(i,t,n,r||false),t=="mousewheel"&&d._bind(i,"DOMMouseScroll",n,r||false),m.cantouch&&t=="mouseup"&&d._bind(i,"touchcancel",n,r||false)):d._bind(i,t,function(e){if((e=e||window.event||false)&&e.srcElement)e.target=e.srcElement;return n.call(i,e)===false||r===false?d.cancelEvent(e):true})};this._unbind=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=false};this.unbindAll=function(){for(var e=0;e<d.events.length;e++){var t=d.events[e];d._unbind(t.e,t.n,t.f,t.b)}};this.cancelEvent=function(e){e=e.original?e.original:e?e:window.event||false;if(!e)return false;e.preventDefault&&e.preventDefault();e.stopPropagation&&e.stopPropagation();e.preventManipulation&&e.preventManipulation();e.cancelBubble=true;e.cancel=true;return e.returnValue=false};this.stopPropagation=function(e){e=e.original?e.original:e?e:window.event||false;if(!e)return false;if(e.stopPropagation)return e.stopPropagation();if(e.cancelBubble)e.cancelBubble=true;return false};this.showRail=function(){if(d.page.maxh!=0&&(d.ispage||d.win.css("display")!="none"))d.visibility=true,d.rail.visibility=true,d.rail.css("display","block");return d};this.showRailHr=function(){if(!d.railh)return d;if(d.page.maxw!=0&&(d.ispage||d.win.css("display")!="none"))d.railh.visibility=true,d.railh.css("display","block");return d};this.hideRail=function(){d.visibility=false;d.rail.visibility=false;d.rail.css("display","none");return d};this.hideRailHr=function(){if(!d.railh)return d;d.railh.visibility=false;d.railh.css("display","none");return d};this.show=function(){d.hidden=false;d.locked=false;return d.showRail().showRailHr()};this.hide=function(){d.hidden=true;d.locked=true;return d.hideRail().hideRailHr()};this.remove=function(){d.doZoomOut();d.unbindAll();d.observer!==false&&d.observer.disconnect();d.events=[];if(d.cursor)d.cursor.remove(),d.cursor=null;if(d.cursorh)d.cursorh.remove(),d.cursorh=null;if(d.rail)d.rail.remove(),d.rail=null;if(d.railh)d.railh.remove(),d.railh=null;if(d.zoom)d.zoom.remove(),d.zoom=null;for(var e=0;e<d.saved.css.length;e++){var t=d.saved.css[e];t[0].css(t[1],typeof t[2]=="undefined"?"":t[2])}d.saved=false;d.me.data("__nicescroll","");d.me=null;d.doc=null;d.docscroll=null;d.win=null;return d};this.scrollstart=function(e){this.onscrollstart=e;return d};this.scrollend=function(e){this.onscrollend=e;return d};this.scrollcancel=function(e){this.onscrollcancel=e;return d};this.zoomin=function(e){this.onzoomin=e;return d};this.zoomout=function(e){this.onzoomout=e;return d};this.isScrollable=function(t){for(t=t.target?t.target:t;t&&t.nodeType==1&&!/BODY|HTML/.test(t.nodeName);){var n=e(t);if(/scroll|auto/.test(n.css("overflowY")||n.css("overflowX")||n.css("overflow")||""))return t.clientHeight!=t.scrollHeight;t=t.parentNode?t.parentNode:false}return false};this.onmousewheel=function(e){if(d.locked)return true;if(!d.rail.scrollable)return d.railh&&d.railh.scrollable?d.onmousewheelhr(e):true;if(d.opt.preservenativescrolling&&d.checkarea)d.checkarea=false,d.nativescrollingarea=d.isScrollable(e);if(d.nativescrollingarea)return true;if(d.locked)return d.cancelEvent(e);if(d.rail.drag)return d.cancelEvent(e);p(e,false);return d.cancelEvent(e)};this.onmousewheelhr=function(e){if(d.locked||!d.railh.scrollable)return true;if(d.opt.preservenativescrolling&&d.checkarea)d.checkarea=false,d.nativescrollingarea=d.isScrollable(e);if(d.nativescrollingarea)return true;if(d.locked)return d.cancelEvent(e);if(d.rail.drag)return d.cancelEvent(e);p(e,true);return d.cancelEvent(e)};this.stop=function(){d.cancelScroll();d.scrollmon&&d.scrollmon.stop();d.cursorfreezed=false;d.scroll.y=Math.round(d.getScrollTop()*(1/d.scrollratio.y));d.noticeCursor();return d};this.getTransitionSpeed=function(e){var t=Math.round(d.opt.scrollspeed*10),e=Math.min(t,Math.round(e/20*d.opt.scrollspeed));return e>20?e:0};d.opt.smoothscroll?d.ishwscroll&&m.hastransition&&d.opt.usetransition?(this.prepareTransition=function(e,t){var n=t?e>20?e:0:d.getTransitionSpeed(e),r=n?m.prefixstyle+"transform "+n+"ms ease-out":"";if(!d.lasttransitionstyle||d.lasttransitionstyle!=r)d.lasttransitionstyle=r,d.doc.css(m.transitionstyle,r);return n},this.doScrollLeft=function(e,t){var n=d.scrollrunning?d.newscrolly:d.getScrollTop();d.doScrollPos(e,n,t)},this.doScrollTop=function(e,t){var n=d.scrollrunning?d.newscrollx:d.getScrollLeft();d.doScrollPos(n,e,t)},this.doScrollPos=function(e,t,n){var r=d.getScrollTop(),i=d.getScrollLeft();((d.newscrolly-r)*(t-r)<0||(d.newscrollx-i)*(e-i)<0)&&d.cancelScroll();d.newscrolly=t;d.newscrollx=e;d.newscrollspeed=n||false;if(d.timer)return false;d.timer=setTimeout(function(){var n=d.getScrollTop(),r=d.getScrollLeft(),i,s;i=e-r;s=t-n;i=Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(s,2)));i=d.prepareTransition(d.newscrollspeed?d.newscrollspeed:i);d.timerscroll&&d.timerscroll.tm&&clearInterval(d.timerscroll.tm);if(i>0){!d.scrollrunning&&d.onscrollstart&&d.onscrollstart.call(d,{type:"scrollstart",current:{x:r,y:n},request:{x:e,y:t},end:{x:d.newscrollx,y:d.newscrolly},speed:i});if(m.transitionend){if(!d.scrollendtrapped)d.scrollendtrapped=true,d.bind(d.doc,m.transitionend,d.onScrollEnd,false)}else d.scrollendtrapped&&clearTimeout(d.scrollendtrapped),d.scrollendtrapped=setTimeout(d.onScrollEnd,i);d.timerscroll={bz:new BezierClass(n,d.newscrolly,i,0,0,.58,1),bh:new BezierClass(r,d.newscrollx,i,0,0,.58,1)};if(!d.cursorfreezed)d.timerscroll.tm=setInterval(function(){d.showCursor(d.getScrollTop(),d.getScrollLeft())},60)}d.synched("doScroll-set",function(){d.timer=0;if(d.scrollendtrapped)d.scrollrunning=true;d.setScrollTop(d.newscrolly);d.setScrollLeft(d.newscrollx);if(!d.scrollendtrapped)d.onScrollEnd()})},50)},this.cancelScroll=function(){if(!d.scrollendtrapped)return true;var e=d.getScrollTop(),t=d.getScrollLeft();d.scrollrunning=false;m.transitionend||clearTimeout(m.transitionend);d.scrollendtrapped=false;d._unbind(d.doc,m.transitionend,d.onScrollEnd);d.prepareTransition(0);d.setScrollTop(e);d.railh&&d.setScrollLeft(t);d.timerscroll&&d.timerscroll.tm&&clearInterval(d.timerscroll.tm);d.timerscroll=false;d.cursorfreezed=false;d.showCursor(e,t);return d},this.onScrollEnd=function(){d.scrollendtrapped&&d._unbind(d.doc,m.transitionend,d.onScrollEnd);d.scrollendtrapped=false;d.prepareTransition(0);d.timerscroll&&d.timerscroll.tm&&clearInterval(d.timerscroll.tm);d.timerscroll=false;var e=d.getScrollTop(),t=d.getScrollLeft();d.setScrollTop(e);d.railh&&d.setScrollLeft(t);d.noticeCursor(false,e,t);d.cursorfreezed=false;if(e<0)e=0;else if(e>d.page.maxh)e=d.page.maxh;if(t<0)t=0;else if(t>d.page.maxw)t=d.page.maxw;if(e!=d.newscrolly||t!=d.newscrollx)return d.doScrollPos(t,e,d.opt.snapbackspeed);d.onscrollend&&d.scrollrunning&&d.onscrollend.call(d,{type:"scrollend",current:{x:t,y:e},end:{x:d.newscrollx,y:d.newscrolly}});d.scrollrunning=false}):(this.doScrollLeft=function(e){var t=d.scrollrunning?d.newscrolly:d.getScrollTop();d.doScrollPos(e,t)},this.doScrollTop=function(e){var t=d.scrollrunning?d.newscrollx:d.getScrollLeft();d.doScrollPos(t,e)},this.doScrollPos=function(e,t){function n(){if(d.cancelAnimationFrame)return true;d.scrollrunning=true;if(l=1-l)return d.timer=o(n)||1;var e=0,t=sy=d.getScrollTop();if(d.dst.ay){var t=d.bzscroll?d.dst.py+d.bzscroll.getNow()*d.dst.ay:d.newscrolly,r=t-sy;if(r<0&&t<d.newscrolly||r>0&&t>d.newscrolly)t=d.newscrolly;d.setScrollTop(t);t==d.newscrolly&&(e=1)}else e=1;var i=sx=d.getScrollLeft();if(d.dst.ax){i=d.bzscroll?d.dst.px+d.bzscroll.getNow()*d.dst.ax:d.newscrollx;r=i-sx;if(r<0&&i<d.newscrollx||r>0&&i>d.newscrollx)i=d.newscrollx;d.setScrollLeft(i);i==d.newscrollx&&(e+=1)}else e+=1;if(e==2){d.timer=0;d.cursorfreezed=false;d.bzscroll=false;d.scrollrunning=false;if(t<0)t=0;else if(t>d.page.maxh)t=d.page.maxh;if(i<0)i=0;else if(i>d.page.maxw)i=d.page.maxw;i!=d.newscrollx||t!=d.newscrolly?d.doScrollPos(i,t):d.onscrollend&&d.onscrollend.call(d,{type:"scrollend",current:{x:sx,y:sy},end:{x:d.newscrollx,y:d.newscrolly}})}else d.timer=o(n)||1}t=typeof t=="undefined"||t===false?d.getScrollTop(true):t;if(d.timer&&d.newscrolly==t&&d.newscrollx==e)return true;d.timer&&u(d.timer);d.timer=0;var r=d.getScrollTop(),i=d.getScrollLeft();((d.newscrolly-r)*(t-r)<0||(d.newscrollx-i)*(e-i)<0)&&d.cancelScroll();d.newscrolly=t;d.newscrollx=e;if(!d.bouncescroll||!d.rail.visibility)if(d.newscrolly<0)d.newscrolly=0;else if(d.newscrolly>d.page.maxh)d.newscrolly=d.page.maxh;if(!d.bouncescroll||!d.railh.visibility)if(d.newscrollx<0)d.newscrollx=0;else if(d.newscrollx>d.page.maxw)d.newscrollx=d.page.maxw;d.dst={};d.dst.x=e-i;d.dst.y=t-r;d.dst.px=i;d.dst.py=r;var s=Math.round(Math.sqrt(Math.pow(d.dst.x,2)+Math.pow(d.dst.y,2)));d.dst.ax=d.dst.x/s;d.dst.ay=d.dst.y/s;var a=0,f=s;if(d.dst.x==0)a=r,f=t,d.dst.ay=1,d.dst.py=0;else if(d.dst.y==0)a=i,f=e,d.dst.ax=1,d.dst.px=0;s=d.getTransitionSpeed(s);d.bzscroll=s>0?d.bzscroll?d.bzscroll.update(f,s):new BezierClass(a,f,s,0,1,0,1):false;if(!d.timer){(r==d.page.maxh&&t>=d.page.maxh||i==d.page.maxw&&e>=d.page.maxw)&&d.checkContentSize();var l=1;d.cancelAnimationFrame=false;d.timer=1;d.onscrollstart&&!d.scrollrunning&&d.onscrollstart.call(d,{type:"scrollstart",current:{x:i,y:r},request:{x:e,y:t},end:{x:d.newscrollx,y:d.newscrolly},speed:s});n();(r==d.page.maxh&&t>=r||i==d.page.maxw&&e>=i)&&d.checkContentSize();d.noticeCursor()}},this.cancelScroll=function(){d.timer&&u(d.timer);d.timer=0;d.bzscroll=false;d.scrollrunning=false;return d}):(this.doScrollLeft=function(e,t){var n=d.getScrollTop();d.doScrollPos(e,n,t)},this.doScrollTop=function(e,t){var n=d.getScrollLeft();d.doScrollPos(n,e,t)},this.doScrollPos=function(e,t){var n=e>d.page.maxw?d.page.maxw:e;n<0&&(n=0);var r=t>d.page.maxh?d.page.maxh:t;r<0&&(r=0);d.synched("scroll",function(){d.setScrollTop(r);d.setScrollLeft(n)})},this.cancelScroll=function(){});this.doScrollBy=function(e,t){var n=0,n=t?Math.floor((d.scroll.y-e)*d.scrollratio.y):(d.timer?d.newscrolly:d.getScrollTop(true))-e;if(d.bouncescroll){var r=Math.round(d.view.h/2);n<-r?n=-r:n>d.page.maxh+r&&(n=d.page.maxh+r)}d.cursorfreezed=false;py=d.getScrollTop(true);if(n<0&&py<=0)return d.noticeCursor();else if(n>d.page.maxh&&py>=d.page.maxh)return d.checkContentSize(),d.noticeCursor();d.doScrollTop(n)};this.doScrollLeftBy=function(e,t){var n=0,n=t?Math.floor((d.scroll.x-e)*d.scrollratio.x):(d.timer?d.newscrollx:d.getScrollLeft(true))-e;if(d.bouncescroll){var r=Math.round(d.view.w/2);n<-r?n=-r:n>d.page.maxw+r&&(n=d.page.maxw+r)}d.cursorfreezed=false;px=d.getScrollLeft(true);if(n<0&&px<=0)return d.noticeCursor();else if(n>d.page.maxw&&px>=d.page.maxw)return d.noticeCursor();d.doScrollLeft(n)};this.doScrollTo=function(e,t){t&&Math.round(e*d.scrollratio.y);d.cursorfreezed=false;d.doScrollTop(e)};this.checkContentSize=function(){var e=d.getContentSize();(e.h!=d.page.h||e.w!=d.page.w)&&d.resize(false,e)};d.onscroll=function(){d.rail.drag||d.cursorfreezed||d.synched("scroll",function(){d.scroll.y=Math.round(d.getScrollTop()*(1/d.scrollratio.y));if(d.railh)d.scroll.x=Math.round(d.getScrollLeft()*(1/d.scrollratio.x));d.noticeCursor()})};d.bind(d.docscroll,"scroll",d.onscroll);this.doZoomIn=function(t){if(!d.zoomactive){d.zoomactive=true;d.zoomrestore={style:{}};var n="position,top,left,zIndex,backgroundColor,marginTop,marginBottom,marginLeft,marginRight".split(","),r=d.win[0].style,i;for(i in n){var s=n[i];d.zoomrestore.style[s]=typeof r[s]!="undefined"?r[s]:""}d.zoomrestore.style.width=d.win.css("width");d.zoomrestore.style.height=d.win.css("height");d.zoomrestore.padding={w:d.win.outerWidth()-d.win.width(),h:d.win.outerHeight()-d.win.height()};if(m.isios4)d.zoomrestore.scrollTop=e(window).scrollTop(),e(window).scrollTop(0);d.win.css({position:m.isios4?"absolute":"fixed",top:0,left:0,"z-index":d.opt.zindex+100,margin:"0px"});n=d.win.css("backgroundColor");(n==""||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(n))&&d.win.css("backgroundColor","#fff");d.rail.css({"z-index":d.opt.zindex+110});d.zoom.css({"z-index":d.opt.zindex+112});d.zoom.css("backgroundPosition","0px -18px");d.resizeZoom();d.onzoomin&&d.onzoomin.call(d);return d.cancelEvent(t)}};this.doZoomOut=function(t){if(d.zoomactive)return d.zoomactive=false,d.win.css("margin",""),d.win.css(d.zoomrestore.style),m.isios4&&e(window).scrollTop(d.zoomrestore.scrollTop),d.rail.css({"z-index":d.ispage?d.opt.zindex:d.opt.zindex+2}),d.zoom.css({"z-index":d.opt.zindex}),d.zoomrestore=false,d.zoom.css("backgroundPosition","0px 0px"),d.onResize(),d.onzoomout&&d.onzoomout.call(d),d.cancelEvent(t)};this.doZoom=function(e){return d.zoomactive?d.doZoomOut(e):d.doZoomIn(e)};this.resizeZoom=function(){if(d.zoomactive){var t=d.getScrollTop();d.win.css({width:e(window).width()-d.zoomrestore.padding.w+"px",height:e(window).height()-d.zoomrestore.padding.h+"px"});d.onResize();d.setScrollTop(Math.min(d.page.maxh,t))}};this.init();e.nicescroll.push(this)},h=function(e){var t=this;this.nc=e;this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0;this.snapy=this.snapx=false;this.demuly=this.demulx=0;this.lastscrolly=this.lastscrollx=-1;this.timer=this.chky=this.chkx=0;this.time=function(){return+(new Date)};this.reset=function(e,n){t.stop();var r=t.time();t.steptime=0;t.lasttime=r;t.speedx=0;t.speedy=0;t.lastx=e;t.lasty=n;t.lastscrollx=-1;t.lastscrolly=-1};this.update=function(e,n){var r=t.time();t.steptime=r-t.lasttime;t.lasttime=r;var r=n-t.lasty,i=e-t.lastx,s=t.nc.getScrollTop(),o=t.nc.getScrollLeft();s+=r;o+=i;t.snapx=o<0||o>t.nc.page.maxw;t.snapy=s<0||s>t.nc.page.maxh;t.speedx=i;t.speedy=r;t.lastx=e;t.lasty=n};this.stop=function(){t.nc.unsynched("domomentum2d");t.timer&&clearTimeout(t.timer);t.timer=0;t.lastscrollx=-1;t.lastscrolly=-1};this.doSnapy=function(e,n){var r=false;if(n<0)n=0,r=true;else if(n>t.nc.page.maxh)n=t.nc.page.maxh,r=true;if(e<0)e=0,r=true;else if(e>t.nc.page.maxw)e=t.nc.page.maxw,r=true;r&&t.nc.doScrollPos(e,n,t.nc.opt.snapbackspeed)};this.doMomentum=function(e){var n=t.time(),r=e?n+e:t.lasttime,e=t.nc.getScrollLeft(),i=t.nc.getScrollTop(),s=t.nc.page.maxh,o=t.nc.page.maxw;t.speedx=o>0?Math.min(60,t.speedx):0;t.speedy=s>0?Math.min(60,t.speedy):0;r=r&&n-r<=50;if(i<0||i>s||e<0||e>o)r=false;e=t.speedx&&r?t.speedx:false;if(t.speedy&&r&&t.speedy||e){var u=Math.max(16,t.steptime);u>50&&(e=u/50,t.speedx*=e,t.speedy*=e,u=50);t.demulxy=0;t.lastscrollx=t.nc.getScrollLeft();t.chkx=t.lastscrollx;t.lastscrolly=t.nc.getScrollTop();t.chky=t.lastscrolly;var a=t.lastscrollx,f=t.lastscrolly,l=function(){var e=t.time()-n>600?.04:.02;if(t.speedx&&(a=Math.floor(t.lastscrollx-t.speedx*(1-t.demulxy)),t.lastscrollx=a,a<0||a>o))e=.1;if(t.speedy&&(f=Math.floor(t.lastscrolly-t.speedy*(1-t.demulxy)),t.lastscrolly=f,f<0||f>s))e=.1;t.demulxy=Math.min(1,t.demulxy+e);t.nc.synched("domomentum2d",function(){if(t.speedx)t.nc.getScrollLeft()!=t.chkx&&t.stop(),t.chkx=a,t.nc.setScrollLeft(a);if(t.speedy)t.nc.getScrollTop()!=t.chky&&t.stop(),t.chky=f,t.nc.setScrollTop(f);t.timer||(t.nc.hideCursor(),t.doSnapy(a,f))});t.demulxy<1?t.timer=setTimeout(l,u):(t.stop(),t.nc.hideCursor(),t.doSnapy(a,f))};l()}else t.doSnapy(t.nc.getScrollLeft(),t.nc.getScrollTop())}},p=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(t){var n=e.data(t,"__nicescroll")||false;return n&&n.ishwscroll?n.getScrollTop():p.call(t)},set:function(t,n){var r=e.data(t,"__nicescroll")||false;r&&r.ishwscroll?r.setScrollTop(parseInt(n)):p.call(t,n);return this}};e.fn.scrollTop=function(t){if(typeof t=="undefined"){var n=this[0]?e.data(this[0],"__nicescroll")||false:false;return n&&n.ishwscroll?n.getScrollTop():p.call(this)}else return this.each(function(){var n=e.data(this,"__nicescroll")||false;n&&n.ishwscroll?n.setScrollTop(parseInt(t)):p.call(e(this),t)})};var d=e.fn.scrollLeft;e.cssHooks.pageXOffset={get:function(t){var n=e.data(t,"__nicescroll")||false;return n&&n.ishwscroll?n.getScrollLeft():d.call(t)},set:function(t,n){var r=e.data(t,"__nicescroll")||false;r&&r.ishwscroll?r.setScrollLeft(parseInt(n)):d.call(t,n);return this}};e.fn.scrollLeft=function(t){if(typeof t=="undefined"){var n=this[0]?e.data(this[0],"__nicescroll")||false:false;return n&&n.ishwscroll?n.getScrollLeft():d.call(this)}else return this.each(function(){var n=e.data(this,"__nicescroll")||false;n&&n.ishwscroll?n.setScrollLeft(parseInt(t)):d.call(e(this),t)})};var v=function(t){var n=this;this.length=0;this.name="nicescrollarray";this.each=function(e){for(var t=0;t<n.length;t++)e.call(n[t]);return n};this.push=function(e){n[n.length]=e;n.length++};this.eq=function(e){return n[e]};if(t)for(a=0;a<t.length;a++){var r=e.data(t[a],"__nicescroll")||false;r&&(this[this.length]=r,this.length++)}return this};(function(e,t,n){for(var r=0;r<t.length;r++)n(e,t[r])})(v.prototype,"show,hide,onResize,resize,remove,stop,doScrollPos".split(","),function(e,t){e[t]=function(){var e=arguments;return this.each(function(){this[t].apply(this,e)})}});e.fn.getNiceScroll=function(t){return typeof t=="undefined"?new v(this):e.data(this[t],"__nicescroll")||false};e.extend(e.expr[":"],{nicescroll:function(t){return e.data(t,"__nicescroll")?true:false}});e.fn.niceScroll=function(t,n){typeof n=="undefined"&&typeof t=="object"&&!("jquery"in t)&&(n=t,t=false);var r=new v;typeof n=="undefined"&&(n={});if(t)n.doc=e(t),n.win=e(this);var i=!("doc"in n);if(!i&&!("win"in n))n.win=e(this);this.each(function(){var t=e(this).data("__nicescroll")||false;if(!t)n.doc=i?e(this):n.doc,t=new c(n,e(this)),e(this).data("__nicescroll",t);r.push(t)});return r.length==1?r[0]:r};window.NiceScroll={getjQuery:function(){return e}};if(!e.nicescroll)e.nicescroll=new v})(jQuery)

}